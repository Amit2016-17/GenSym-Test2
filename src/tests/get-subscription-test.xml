<?xml version="1.0"?>
<rdf:RDF
 xmlns:rdf="http://www.w3.org/TR/WD-rdf-syntax#"
 xmlns:g2="g2-beta-12-0-17.rdf"
 xmlns="">

<g2:Module ID="GET-SUBSCRIPTION-TEST">
  <g2:version>
    <g2:Structure>
      <g2:sa.MAJOR-VERSION g2:type="Integer">12</g2:sa.MAJOR-VERSION>
      <g2:sa.MINOR-VERSION g2:type="Integer">0</g2:sa.MINOR-VERSION>
      <g2:sa.RELEASE-QUALITY g2:type="Text">Beta</g2:sa.RELEASE-QUALITY>
      <g2:sa.REVISION g2:type="Integer">17</g2:sa.REVISION>
      <g2:sa.BUILD-IDENTIFICATION g2:type="Text">TF09</g2:sa.BUILD-IDENTIFICATION></g2:Structure></g2:version>
  <g2:systemtables>
    <g2:Sequence>
      <rdf:li>
      <g2:c.MODULE-INFORMATION ID="12e3b2d44b7f11e7b1e6005056236692">
        
        <g2:a.TOP-LEVEL-MODULE g2:type="Symbol">GET-SUBSCRIPTION-TEST</g2:a.TOP-LEVEL-MODULE>
        <g2:a.DIRECTLY-REQUIRED-MODULES>
          <g2:Sequence>
            <rdf:li g2:type="Symbol">TSDRIVER</rdf:li></g2:Sequence></g2:a.DIRECTLY-REQUIRED-MODULES>
        </g2:c.MODULE-INFORMATION></rdf:li>
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      <rdf:li>
      <g2:c.MISCELLANEOUS-PARAMETERS ID="12e3b2e54b7f11e7b1e6005056236692">
        <g2:a.BACKWARD-COMPATIBILITY-FEATURES>
          <g2:Sequence>
            <rdf:li g2:type="Symbol">PRINT-MEANS-PRINT-TO-SERVER-IN-CONFIGURATIONS</rdf:li>
            <rdf:li g2:type="Symbol">INCONSISTENT-BEHAVIOR-OF-MOVE-IN-CONFIGURATIONS</rdf:li></g2:Sequence></g2:a.BACKWARD-COMPATIBILITY-FEATURES>
        </g2:c.MISCELLANEOUS-PARAMETERS></rdf:li>
      
      <rdf:li>
      <g2:c.SAVING-PARAMETERS ID="12e3b2e74b7f11e7b1e6005056236692">
        <g2:a.KB-FILE-COMMENT><![CDATA[
2013-06-17: added 2nd return value (bias: integer) for g2-get-current-time-zone. (GENSYMCID-1034)

]]></g2:a.KB-FILE-COMMENT>
        <g2:a.ENABLE-KB-CHANGE-LOGGING g2:type="TruthValue">true</g2:a.ENABLE-KB-CHANGE-LOGGING>
        </g2:c.SAVING-PARAMETERS></rdf:li>
      </g2:Sequence></g2:systemtables>
  
  <g2:panes>
    <g2:Sequence>
      <rdf:li>
      <g2:Structure>
        <g2:sa.WORKSPACE><g2:c.KB-WORKSPACE rdf:resource="#12e3b2ea4b7f11e7b1e6005056236692"/></g2:sa.WORKSPACE>
        <g2:sa.X-IN-WORKSPACE g2:type="Integer">487</g2:sa.X-IN-WORKSPACE>
        <g2:sa.Y-IN-WORKSPACE g2:type="Integer">-161</g2:sa.Y-IN-WORKSPACE>
        <g2:sa.X-MAGNIFICATION g2:type="Integer">256</g2:sa.X-MAGNIFICATION>
        <g2:sa.Y-MAGNIFICATION g2:type="Integer">256</g2:sa.Y-MAGNIFICATION></g2:Structure></rdf:li>
      <rdf:li>
      <g2:Structure>
        <g2:sa.WORKSPACE><g2:c.KB-WORKSPACE rdf:resource="#12e3b2e94b7f11e7b1e6005056236692"/></g2:sa.WORKSPACE>
        <g2:sa.X-IN-WORKSPACE g2:type="Integer">425</g2:sa.X-IN-WORKSPACE>
        <g2:sa.Y-IN-WORKSPACE g2:type="Integer">194</g2:sa.Y-IN-WORKSPACE>
        <g2:sa.X-MAGNIFICATION g2:type="Integer">256</g2:sa.X-MAGNIFICATION>
        <g2:sa.Y-MAGNIFICATION g2:type="Integer">256</g2:sa.Y-MAGNIFICATION></g2:Structure></rdf:li>
      <rdf:li>
      <g2:Structure>
        <g2:sa.WORKSPACE><g2:c.KB-WORKSPACE rdf:resource="#4ac889774de311e797fb005056236692"/></g2:sa.WORKSPACE>
        <g2:sa.X-IN-WORKSPACE g2:type="Integer">-133</g2:sa.X-IN-WORKSPACE>
        <g2:sa.Y-IN-WORKSPACE g2:type="Integer">195</g2:sa.Y-IN-WORKSPACE>
        <g2:sa.X-MAGNIFICATION g2:type="Integer">256</g2:sa.X-MAGNIFICATION>
        <g2:sa.Y-MAGNIFICATION g2:type="Integer">256</g2:sa.Y-MAGNIFICATION></g2:Structure></rdf:li>
      <rdf:li>
      <g2:Structure>
        <g2:sa.WORKSPACE><g2:c.KB-WORKSPACE rdf:resource="#6cc1c0024fd111e788b5005056236692"/></g2:sa.WORKSPACE>
        <g2:sa.X-IN-WORKSPACE g2:type="Integer">-729</g2:sa.X-IN-WORKSPACE>
        <g2:sa.Y-IN-WORKSPACE g2:type="Integer">-224</g2:sa.Y-IN-WORKSPACE>
        <g2:sa.X-MAGNIFICATION g2:type="Integer">256</g2:sa.X-MAGNIFICATION>
        <g2:sa.Y-MAGNIFICATION g2:type="Integer">256</g2:sa.Y-MAGNIFICATION></g2:Structure></rdf:li>
      <rdf:li>
      <g2:Structure>
        <g2:sa.WORKSPACE><g2:c.KB-WORKSPACE rdf:resource="#a5eae4b24eee11e78d93005056236692"/></g2:sa.WORKSPACE>
        <g2:sa.X-IN-WORKSPACE g2:type="Integer">-132</g2:sa.X-IN-WORKSPACE>
        <g2:sa.Y-IN-WORKSPACE g2:type="Integer">-223</g2:sa.Y-IN-WORKSPACE>
        <g2:sa.X-MAGNIFICATION g2:type="Integer">256</g2:sa.X-MAGNIFICATION>
        <g2:sa.Y-MAGNIFICATION g2:type="Integer">256</g2:sa.Y-MAGNIFICATION></g2:Structure></rdf:li></g2:Sequence></g2:panes>
  </g2:Module>

<g2:c.KB-WORKSPACE ID="12e3b2ea4b7f11e7b1e6005056236692">
  <g2:a.NAMES g2:type="Symbol">WS-GET-SUBSCRIPTION</g2:a.NAMES>
  <g2:a.MODULE-ASSIGNMENT g2:type="Symbol">GET-SUBSCRIPTION-TEST</g2:a.MODULE-ASSIGNMENT>
  <g2:a.EDGES-OF-WORKSPACE>
    <g2:Structure>
      <g2:sa.LEFT g2:type="Integer">-382</g2:sa.LEFT>
      <g2:sa.TOP g2:type="Integer">250</g2:sa.TOP>
      <g2:sa.RIGHT g2:type="Integer">-46</g2:sa.RIGHT>
      <g2:sa.BOTTOM g2:type="Integer">-292</g2:sa.BOTTOM></g2:Structure></g2:a.EDGES-OF-WORKSPACE>
  <g2:a.NAME-BOX>
    <g2:Structure>
      <g2:sa.COLOR>
        <g2:Structure>
          <g2:sa.BACKGROUND-COLOR g2:type="Symbol">BLACK</g2:sa.BACKGROUND-COLOR>
          <g2:sa.TEXT-COLOR g2:type="Symbol">WHITE</g2:sa.TEXT-COLOR></g2:Structure></g2:sa.COLOR>
      <g2:sa.POSITION>
        <g2:Structure>
          <g2:sa.X-OFFSET g2:type="Integer">-106</g2:sa.X-OFFSET>
          <g2:sa.Y-OFFSET g2:type="Integer">241</g2:sa.Y-OFFSET></g2:Structure></g2:sa.POSITION></g2:Structure></g2:a.NAME-BOX></g2:c.KB-WORKSPACE>

<c.END-FLOW ID="12e3b2c94b7f11e7b1e6005056236692">
  <ua.TEST-RESULT>
    <c.TEST-RESULT-PARAMETER ID="12e3b2eb4b7f11e7b1e6005056236692">
      <g2:a.OPTIONS>
        <g2:Structure>
          <g2:sa.FORWARD-CHAIN g2:type="TruthValue">true</g2:sa.FORWARD-CHAIN>
          <g2:sa.FORWARD-CHAIN-EVEN-FOR-SAME-VALUE g2:type="TruthValue">false</g2:sa.FORWARD-CHAIN-EVEN-FOR-SAME-VALUE></g2:Structure></g2:a.OPTIONS>
      <ua.TEST-INFO>
        <g2:c.TEXT-PARAMETER ID="12e3b2ec4b7f11e7b1e6005056236692">
          <g2:a.OPTIONS>
            <g2:Structure>
              <g2:sa.FORWARD-CHAIN g2:type="TruthValue">false</g2:sa.FORWARD-CHAIN>
              <g2:sa.FORWARD-CHAIN-EVEN-FOR-SAME-VALUE g2:type="TruthValue">false</g2:sa.FORWARD-CHAIN-EVEN-FOR-SAME-VALUE></g2:Structure></g2:a.OPTIONS>
          <g2:a.ICON-VARIABLES>
            <g2:Structure>
              <g2:sa.WIDTH g2:type="Integer">50</g2:sa.WIDTH>
              <g2:sa.HEIGHT g2:type="Integer">50</g2:sa.HEIGHT></g2:Structure></g2:a.ICON-VARIABLES></g2:c.TEXT-PARAMETER></ua.TEST-INFO>
      <g2:a.ICON-VARIABLES>
        <g2:Structure>
          <g2:sa.WIDTH g2:type="Integer">50</g2:sa.WIDTH>
          <g2:sa.HEIGHT g2:type="Integer">50</g2:sa.HEIGHT></g2:Structure></g2:a.ICON-VARIABLES></c.TEST-RESULT-PARAMETER></ua.TEST-RESULT>
  <ua.TIMEOUT-LIMIT g2:type="Integer" g2:unit="SECONDS">10</ua.TIMEOUT-LIMIT>
  <g2:a.ICON-VARIABLES>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">50</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">25</g2:sa.HEIGHT></g2:Structure></g2:a.ICON-VARIABLES>
  <g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING><c.NEXT-BENCHMARK rdf:resource="#4ac889704de311e797fb005056236692"/></g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING>
  <g2:a.POSITION-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.X g2:type="Integer">-106</g2:sa.X>
      <g2:sa.Y g2:type="Integer">-248</g2:sa.Y>
      <g2:sa.SUPERIOR><g2:c.KB-WORKSPACE rdf:resource="#12e3b2ea4b7f11e7b1e6005056236692"/></g2:sa.SUPERIOR></g2:Structure></g2:a.POSITION-IN-WORKSPACE>
  <g2:a.SIZE-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">50</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">25</g2:sa.HEIGHT></g2:Structure></g2:a.SIZE-IN-WORKSPACE></c.END-FLOW>

<g2:c.LOOSE-END ID="12e3b2ca4b7f11e7b1e6005056236692">
  <g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING><c.NEXT-BENCHMARK rdf:resource="#12e3b2cb4b7f11e7b1e6005056236692"/></g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING>
  <g2:a.POSITION-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.X g2:type="Integer">-106</g2:sa.X>
      <g2:sa.Y g2:type="Integer">-231</g2:sa.Y>
      <g2:sa.SUPERIOR><g2:c.KB-WORKSPACE rdf:resource="#12e3b2ea4b7f11e7b1e6005056236692"/></g2:sa.SUPERIOR></g2:Structure></g2:a.POSITION-IN-WORKSPACE></g2:c.LOOSE-END>

<c.NEXT-BENCHMARK ID="12e3b2cb4b7f11e7b1e6005056236692">
  <g2:a.CONNECTION-IS-DIRECTED g2:type="TruthValue">true</g2:a.CONNECTION-IS-DIRECTED>
  <g2:a.CONNECTION-VERTICES>
    <g2:Sequence>
      <rdf:li g2:type="Integer">-4</rdf:li></g2:Sequence></g2:a.CONNECTION-VERTICES>
  <g2:a.CONNECTION-STYLE g2:type="Symbol">ORTHOGONAL</g2:a.CONNECTION-STYLE>
  <g2:a.CONNECTION-OUTPUT>
    <g2:Structure>
      <g2:sa.ITEM><c.END-FLOW rdf:resource="#12e3b2c94b7f11e7b1e6005056236692"/></g2:sa.ITEM>
      <g2:sa.SIDE g2:type="Symbol">TOP</g2:sa.SIDE>
      <g2:sa.POSITION g2:type="Integer">25</g2:sa.POSITION></g2:Structure></g2:a.CONNECTION-OUTPUT>
  <g2:a.CONNECTION-INPUT>
    <g2:Structure>
      <g2:sa.ITEM><g2:c.LOOSE-END rdf:resource="#12e3b2ca4b7f11e7b1e6005056236692"/></g2:sa.ITEM>
      <g2:sa.SIDE g2:type="Symbol">BOTTOM</g2:sa.SIDE>
      <g2:sa.POSITION g2:type="Integer">0</g2:sa.POSITION>
      <g2:sa.PORT-NAME g2:type="Symbol">STUB-CONNECTION</g2:sa.PORT-NAME></g2:Structure></g2:a.CONNECTION-INPUT>
  <g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING><c.BENCHMARK-TEST rdf:resource="#12e3b2cc4b7f11e7b1e6005056236692"/></g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING>
  <g2:a.ITEM-COLOR-PATTERN>
    <g2:Structure>
      <g2:sa.OUTLINE g2:type="Symbol">RED</g2:sa.OUTLINE>
      <g2:sa.INSIDE g2:type="Symbol">TURQUOISE</g2:sa.INSIDE></g2:Structure></g2:a.ITEM-COLOR-PATTERN></c.NEXT-BENCHMARK>

<c.BENCHMARK-TEST ID="12e3b2cc4b7f11e7b1e6005056236692">
  <g2:a.NAMES g2:type="Symbol">GET-SUBSCRIPTION</g2:a.NAMES>
  <ua.TEST-RESULT>
    <c.TEST-RESULT-PARAMETER ID="12e3b2ed4b7f11e7b1e6005056236692">
      <g2:a.OPTIONS>
        <g2:Structure>
          <g2:sa.FORWARD-CHAIN g2:type="TruthValue">true</g2:sa.FORWARD-CHAIN>
          <g2:sa.FORWARD-CHAIN-EVEN-FOR-SAME-VALUE g2:type="TruthValue">false</g2:sa.FORWARD-CHAIN-EVEN-FOR-SAME-VALUE></g2:Structure></g2:a.OPTIONS>
      <ua.TEST-INFO>
        <g2:c.TEXT-PARAMETER ID="12e3b2ee4b7f11e7b1e6005056236692">
          <g2:a.OPTIONS>
            <g2:Structure>
              <g2:sa.FORWARD-CHAIN g2:type="TruthValue">false</g2:sa.FORWARD-CHAIN>
              <g2:sa.FORWARD-CHAIN-EVEN-FOR-SAME-VALUE g2:type="TruthValue">false</g2:sa.FORWARD-CHAIN-EVEN-FOR-SAME-VALUE></g2:Structure></g2:a.OPTIONS>
          <g2:a.ICON-VARIABLES>
            <g2:Structure>
              <g2:sa.WIDTH g2:type="Integer">50</g2:sa.WIDTH>
              <g2:sa.HEIGHT g2:type="Integer">50</g2:sa.HEIGHT></g2:Structure></g2:a.ICON-VARIABLES></g2:c.TEXT-PARAMETER></ua.TEST-INFO>
      <g2:a.ICON-VARIABLES>
        <g2:Structure>
          <g2:sa.WIDTH g2:type="Integer">50</g2:sa.WIDTH>
          <g2:sa.HEIGHT g2:type="Integer">50</g2:sa.HEIGHT></g2:Structure></g2:a.ICON-VARIABLES></c.TEST-RESULT-PARAMETER></ua.TEST-RESULT>
  <ua.TIMEOUT-LIMIT g2:type="Integer" g2:unit="SECONDS">10</ua.TIMEOUT-LIMIT>
  <ua.COUNTED g2:type="TruthValue" g2:unit="TRUTH-VALUE">false</ua.COUNTED>
  <g2:a.ICON-VARIABLES>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">30</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">24</g2:sa.HEIGHT></g2:Structure></g2:a.ICON-VARIABLES>
  <g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING><c.NEXT-BENCHMARK rdf:resource="#4ac889714de311e797fb005056236692"/></g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING>
  <g2:a.POSITION-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.X g2:type="Integer">-108</g2:sa.X>
      <g2:sa.Y g2:type="Integer">31</g2:sa.Y>
      <g2:sa.SUPERIOR><g2:c.KB-WORKSPACE rdf:resource="#12e3b2ea4b7f11e7b1e6005056236692"/></g2:sa.SUPERIOR></g2:Structure></g2:a.POSITION-IN-WORKSPACE>
  <g2:a.SIZE-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">30</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">24</g2:sa.HEIGHT></g2:Structure></g2:a.SIZE-IN-WORKSPACE>
  <g2:a.NAME-BOX>
    <g2:Structure>
      <g2:sa.COLOR>
        <g2:Structure>
          <g2:sa.BACKGROUND-COLOR g2:type="Symbol">TRANSPARENT</g2:sa.BACKGROUND-COLOR>
          <g2:sa.TEXT-COLOR g2:type="Symbol">FOREGROUND</g2:sa.TEXT-COLOR></g2:Structure></g2:sa.COLOR>
      <g2:sa.POSITION>
        <g2:Structure>
          <g2:sa.X-OFFSET g2:type="Integer">-178</g2:sa.X-OFFSET>
          <g2:sa.Y-OFFSET g2:type="Integer">14</g2:sa.Y-OFFSET></g2:Structure></g2:sa.POSITION></g2:Structure></g2:a.NAME-BOX></c.BENCHMARK-TEST>

<g2:c.KB-WORKSPACE ID="12e3b2e94b7f11e7b1e6005056236692">
  <g2:a.DEFAULT-WINDOW-POSITION-AND-SCALE>
    <g2:Structure>
      <g2:sa.X g2:type="Integer">1108</g2:sa.X>
      <g2:sa.Y g2:type="Integer">314</g2:sa.Y></g2:Structure></g2:a.DEFAULT-WINDOW-POSITION-AND-SCALE>
  <g2:a.EDGES-OF-WORKSPACE>
    <g2:Structure>
      <g2:sa.LEFT g2:type="Integer">-366</g2:sa.LEFT>
      <g2:sa.TOP g2:type="Integer">259</g2:sa.TOP>
      <g2:sa.RIGHT g2:type="Integer">150</g2:sa.RIGHT>
      <g2:sa.BOTTOM g2:type="Integer">-22</g2:sa.BOTTOM></g2:Structure></g2:a.EDGES-OF-WORKSPACE>
  <g2:a.PARENT-OF-SUBWORKSPACE><c.BENCHMARK-TEST rdf:resource="#12e3b2cc4b7f11e7b1e6005056236692"/></g2:a.PARENT-OF-SUBWORKSPACE></g2:c.KB-WORKSPACE>

<g2:c.PROCEDURE ID="12e3b2d04b7f11e7b1e6005056236692">
  
  <g2:a.TEXT><![CDATA[
SUBSCRIPTION-HANDLER(event: symbol, item: class item, denotation-sequence: sequence, new-value: item-or-value, user-data: item-or-value, subscription-handle: integer) 

begin 
end
]]></g2:a.TEXT>
  <g2:a.ICON-VARIABLES>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">50</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">50</g2:sa.HEIGHT></g2:Structure></g2:a.ICON-VARIABLES>
  <g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING><g2:c.TEXT-PARAMETER rdf:resource="#12e3b2d14b7f11e7b1e6005056236692"/></g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING>
  <g2:a.POSITION-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.X g2:type="Integer">16</g2:sa.X>
      <g2:sa.Y g2:type="Integer">69</g2:sa.Y>
      <g2:sa.SUPERIOR><g2:c.KB-WORKSPACE rdf:resource="#12e3b2e94b7f11e7b1e6005056236692"/></g2:sa.SUPERIOR></g2:Structure></g2:a.POSITION-IN-WORKSPACE>
  <g2:a.SIZE-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">50</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">50</g2:sa.HEIGHT></g2:Structure></g2:a.SIZE-IN-WORKSPACE>
  <g2:a.NAME-BOX>
    <g2:Structure>
      <g2:sa.COLOR>
        <g2:Structure>
          <g2:sa.BACKGROUND-COLOR g2:type="Symbol">TRANSPARENT</g2:sa.BACKGROUND-COLOR>
          <g2:sa.TEXT-COLOR g2:type="Symbol">FOREGROUND</g2:sa.TEXT-COLOR></g2:Structure></g2:sa.COLOR>
      <g2:sa.POSITION>
        <g2:Structure>
          <g2:sa.X-OFFSET g2:type="Integer">-101</g2:sa.X-OFFSET>
          <g2:sa.Y-OFFSET g2:type="Integer">-29</g2:sa.Y-OFFSET></g2:Structure></g2:sa.POSITION></g2:Structure></g2:a.NAME-BOX></g2:c.PROCEDURE>

<g2:c.TEXT-PARAMETER ID="12e3b2d14b7f11e7b1e6005056236692">
  <g2:a.OPTIONS>
    <g2:Structure>
      <g2:sa.FORWARD-CHAIN g2:type="TruthValue">false</g2:sa.FORWARD-CHAIN>
      <g2:sa.FORWARD-CHAIN-EVEN-FOR-SAME-VALUE g2:type="TruthValue">false</g2:sa.FORWARD-CHAIN-EVEN-FOR-SAME-VALUE></g2:Structure></g2:a.OPTIONS>
  <g2:a.NAMES g2:type="Symbol">TEXT-PARAMETER-ITEM</g2:a.NAMES>
  <g2:a.ICON-VARIABLES>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">50</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">50</g2:sa.HEIGHT></g2:Structure></g2:a.ICON-VARIABLES>
  <g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING><g2:c.PROCEDURE rdf:resource="#12e3b2d24b7f11e7b1e6005056236692"/></g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING>
  <g2:a.POSITION-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.X g2:type="Integer">22</g2:sa.X>
      <g2:sa.Y g2:type="Integer">167</g2:sa.Y>
      <g2:sa.SUPERIOR><g2:c.KB-WORKSPACE rdf:resource="#12e3b2e94b7f11e7b1e6005056236692"/></g2:sa.SUPERIOR></g2:Structure></g2:a.POSITION-IN-WORKSPACE>
  <g2:a.SIZE-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">50</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">50</g2:sa.HEIGHT></g2:Structure></g2:a.SIZE-IN-WORKSPACE>
  <g2:a.NAME-BOX>
    <g2:Structure>
      <g2:sa.COLOR>
        <g2:Structure>
          <g2:sa.BACKGROUND-COLOR g2:type="Symbol">TRANSPARENT</g2:sa.BACKGROUND-COLOR>
          <g2:sa.TEXT-COLOR g2:type="Symbol">FOREGROUND</g2:sa.TEXT-COLOR></g2:Structure></g2:sa.COLOR>
      <g2:sa.POSITION>
        <g2:Structure>
          <g2:sa.X-OFFSET g2:type="Integer">-98</g2:sa.X-OFFSET>
          <g2:sa.Y-OFFSET g2:type="Integer">-29</g2:sa.Y-OFFSET></g2:Structure></g2:sa.POSITION></g2:Structure></g2:a.NAME-BOX></g2:c.TEXT-PARAMETER>

<g2:c.PROCEDURE ID="12e3b2d24b7f11e7b1e6005056236692">
  
  <g2:a.TEXT><![CDATA[
GET-SUBSCRIPTION-TEST(node: class benchmark-test)
is-in-error: truth-value = false;
err: class error ;
temp-handle: integer;
index: integer;
handles: sequence;
info: structure;

begin
    handles = call g2-get-subscription-handles-for-item (text-parameter-item);

    {cleaning up handles if one exists}
    for index = 0 to (the  number of elements in handles) - 1 do 
        call g2-deregister-subscription (handles[index]);
    end;
    handles = call g2-get-subscription-handles-for-item (text-parameter-item); 

    {there must be no handles yet}
    if  the number of elements in handles > 0 then begin
        call fail(node, "GET-SUBSCRIPTION-TEST: item text-parameter should have no handles");
        return;
    end;

    {creating one subscription}
    temp-handle = call g2-subscribe-to-variable-or-parameter-value (text-parameter-item, subscription-handler, 1);
    handles = insert-at-end(handles,temp-handle);
    
    {there must be one handle}   
    if  the number of elements in handles /= 1 then begin
        call fail(node, "GET-SUBSCRIPTION-TEST: item text-parameter should have one handle");
        return;
    end;
    
    {getting the handle info and analyzing it}
    info = call g2-get-subscription-handle-info (handles [0]);
    
    if (the subscribed-item of info is not the same object as text-parameter-item) or (the subscription-user-data of info /= 1) then begin
        call fail(node, " GET-SUBSCRIPTION-TEST : The subscribed-item is not the same object as the one registered. Info returned from handle is not correct."); 
        return;
    end;      

    {creating one more subscription}
    temp-handle = call g2-subscribe-to-variable-or-parameter-value (text-parameter-item, subscription-handler, 2);
    handles = insert-at-end(handles, temp-handle);
    
    {there must be two handles}   
    if  the number of elements in handles /= 2 then begin
        call fail(node, "GET-SUBSCRIPTION-TEST: item text-parameter should have two handles");
        return;
    end;
    {getting the handle info and analyzing it}
    info = call g2-get-subscription-handle-info (handles [1]);
    
    if (the subscribed-item of info is not the same object as text-parameter-item) or (the subscription-user-data of info /= 2) then begin
        call fail(node, " GET-SUBSCRIPTION-TEST : The subscribed-item is not the same object as the one registered. Info returned from handle is not correct for item #2."); 
        return;
    end;   

   
    {creating one more subscription}
    temp-handle = call g2-subscribe-to-variable-or-parameter-value (text-parameter-item, subscription-handler, 3);
    handles = insert-at-end(handles, temp-handle);
    
    {there must be three handles}   
    if  the number of elements in handles /= 3 then begin
        call fail(node, "GET-SUBSCRIPTION-TEST: item text-parameter should have three handles");
        return;
    end;
    {getting the handle info and analyzing it}
    info = call g2-get-subscription-handle-info (handles [2]);
    
    if (the subscribed-item of info is not the same object as text-parameter-item) or (the subscription-user-data of info /= 3) then begin
        call fail(node, " GET-SUBSCRIPTION-TEST : The subscribed-item is not the same object as the one registered. Info returned from handle is not correct for item #3."); 
        return;
    end; 
 
    {testing for broken references}
    call g2-deregister-subscription(handles[2]);
    
    begin
        info = call g2-get-subscription-handle-info (handles [2]); 
	wait until the subscription-user-data of info /= 3 checking every 1 second;
    end on error(err)
        delete err;
        is-in-error = true;
    end;    
    if is-in-error /= true then begin
        call fail(node, " GET-SUBSCRIPTION-TEST : The broken reference #3 did not lead to an error"); 
        return;        
    end;

    {there must be only 2 handles now}
    handles = call g2-get-subscription-handles-for-item (text-parameter-item); 
    if  the number of elements in handles /= 2 then begin
        call fail(node, "GET-SUBSCRIPTION-TEST: item text-parameter should have two handles");
        return;
    end; 

    {cleaning up the registered hundlers}
    for index = 0 to (the  number of elements in handles) - 1 do 
        call g2-deregister-subscription (handles[index]);
    end; 

    call pass(node);
end
]]></g2:a.TEXT>
  <g2:a.ICON-VARIABLES>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">50</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">50</g2:sa.HEIGHT></g2:Structure></g2:a.ICON-VARIABLES>
  <g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING><g2:c.BORDERLESS-FREE-TEXT rdf:resource="#12e3b2d34b7f11e7b1e6005056236692"/></g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING>
  <g2:a.POSITION-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.X g2:type="Integer">-234</g2:sa.X>
      <g2:sa.Y g2:type="Integer">171</g2:sa.Y>
      <g2:sa.SUPERIOR><g2:c.KB-WORKSPACE rdf:resource="#12e3b2e94b7f11e7b1e6005056236692"/></g2:sa.SUPERIOR></g2:Structure></g2:a.POSITION-IN-WORKSPACE>
  <g2:a.SIZE-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">50</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">50</g2:sa.HEIGHT></g2:Structure></g2:a.SIZE-IN-WORKSPACE>
  <g2:a.NAME-BOX>
    <g2:Structure>
      <g2:sa.COLOR>
        <g2:Structure>
          <g2:sa.BACKGROUND-COLOR g2:type="Symbol">TRANSPARENT</g2:sa.BACKGROUND-COLOR>
          <g2:sa.TEXT-COLOR g2:type="Symbol">FOREGROUND</g2:sa.TEXT-COLOR></g2:Structure></g2:sa.COLOR>
      <g2:sa.POSITION>
        <g2:Structure>
          <g2:sa.X-OFFSET g2:type="Integer">-102</g2:sa.X-OFFSET>
          <g2:sa.Y-OFFSET g2:type="Integer">-29</g2:sa.Y-OFFSET></g2:Structure></g2:sa.POSITION></g2:Structure></g2:a.NAME-BOX></g2:c.PROCEDURE>

<g2:c.BORDERLESS-FREE-TEXT ID="12e3b2d34b7f11e7b1e6005056236692">
  <g2:a.TEXT>ws-test</g2:a.TEXT>
  <g2:a.TEXT-FONT>
    <g2:Structure>
      <g2:sa.FONT-SIZE g2:type="Symbol">LARGE</g2:sa.FONT-SIZE></g2:Structure></g2:a.TEXT-FONT>
  <g2:a.TEXT-ALIGNMENT g2:type="Symbol">LEFT</g2:a.TEXT-ALIGNMENT>
  <g2:a.POSITION-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.X g2:type="Integer">-237</g2:sa.X>
      <g2:sa.Y g2:type="Integer">217</g2:sa.Y>
      <g2:sa.SUPERIOR><g2:c.KB-WORKSPACE rdf:resource="#12e3b2e94b7f11e7b1e6005056236692"/></g2:sa.SUPERIOR></g2:Structure></g2:a.POSITION-IN-WORKSPACE>
  <g2:a.SIZE-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">72</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">25</g2:sa.HEIGHT></g2:Structure></g2:a.SIZE-IN-WORKSPACE></g2:c.BORDERLESS-FREE-TEXT>

<c.START-FLOW ID="12e3b2ce4b7f11e7b1e6005056236692">
  <ua.TEST-RESULT>
    <c.TEST-RESULT-PARAMETER ID="12e3b2ef4b7f11e7b1e6005056236692">
      <g2:a.OPTIONS>
        <g2:Structure>
          <g2:sa.FORWARD-CHAIN g2:type="TruthValue">true</g2:sa.FORWARD-CHAIN>
          <g2:sa.FORWARD-CHAIN-EVEN-FOR-SAME-VALUE g2:type="TruthValue">false</g2:sa.FORWARD-CHAIN-EVEN-FOR-SAME-VALUE></g2:Structure></g2:a.OPTIONS>
      <ua.TEST-INFO>
        <g2:c.TEXT-PARAMETER ID="12e3b2f04b7f11e7b1e6005056236692">
          <g2:a.OPTIONS>
            <g2:Structure>
              <g2:sa.FORWARD-CHAIN g2:type="TruthValue">false</g2:sa.FORWARD-CHAIN>
              <g2:sa.FORWARD-CHAIN-EVEN-FOR-SAME-VALUE g2:type="TruthValue">false</g2:sa.FORWARD-CHAIN-EVEN-FOR-SAME-VALUE></g2:Structure></g2:a.OPTIONS>
          <g2:a.ICON-VARIABLES>
            <g2:Structure>
              <g2:sa.WIDTH g2:type="Integer">50</g2:sa.WIDTH>
              <g2:sa.HEIGHT g2:type="Integer">50</g2:sa.HEIGHT></g2:Structure></g2:a.ICON-VARIABLES></g2:c.TEXT-PARAMETER></ua.TEST-INFO>
      <g2:a.ICON-VARIABLES>
        <g2:Structure>
          <g2:sa.WIDTH g2:type="Integer">50</g2:sa.WIDTH>
          <g2:sa.HEIGHT g2:type="Integer">50</g2:sa.HEIGHT></g2:Structure></g2:a.ICON-VARIABLES></c.TEST-RESULT-PARAMETER></ua.TEST-RESULT>
  <ua.TIMEOUT-LIMIT g2:type="Integer" g2:unit="SECONDS">10</ua.TIMEOUT-LIMIT>
  <ua.NUMBER-OF-EXECUTED-TESTS g2:type="Integer">4</ua.NUMBER-OF-EXECUTED-TESTS>
  <ua.TOTAL-NUMBER-OF-TESTS g2:type="Integer">4</ua.TOTAL-NUMBER-OF-TESTS>
  <g2:a.ICON-VARIABLES>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">50</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">25</g2:sa.HEIGHT></g2:Structure></g2:a.ICON-VARIABLES>
  <g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING><c.NEXT-BENCHMARK rdf:resource="#12e3b2cf4b7f11e7b1e6005056236692"/></g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING>
  <g2:a.POSITION-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.X g2:type="Integer">-106</g2:sa.X>
      <g2:sa.Y g2:type="Integer">121</g2:sa.Y>
      <g2:sa.SUPERIOR><g2:c.KB-WORKSPACE rdf:resource="#12e3b2ea4b7f11e7b1e6005056236692"/></g2:sa.SUPERIOR></g2:Structure></g2:a.POSITION-IN-WORKSPACE>
  <g2:a.SIZE-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">50</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">25</g2:sa.HEIGHT></g2:Structure></g2:a.SIZE-IN-WORKSPACE></c.START-FLOW>

<c.NEXT-BENCHMARK ID="12e3b2cf4b7f11e7b1e6005056236692">
  <g2:a.CONNECTION-VERTICES>
    <g2:Sequence>
      <rdf:li g2:type="Integer">-9</rdf:li>
      <rdf:li g2:type="Integer">0</rdf:li></g2:Sequence></g2:a.CONNECTION-VERTICES>
  <g2:a.CONNECTION-STYLE g2:type="Symbol">ORTHOGONAL</g2:a.CONNECTION-STYLE>
  <g2:a.CONNECTION-OUTPUT>
    <g2:Structure>
      <g2:sa.ITEM><c.BENCHMARK-TEST rdf:resource="#12e3b2cc4b7f11e7b1e6005056236692"/></g2:sa.ITEM>
      <g2:sa.SIDE g2:type="Symbol">TOP</g2:sa.SIDE>
      <g2:sa.POSITION g2:type="Integer">17</g2:sa.POSITION></g2:Structure></g2:a.CONNECTION-OUTPUT>
  <g2:a.CONNECTION-INPUT>
    <g2:Structure>
      <g2:sa.ITEM><c.START-FLOW rdf:resource="#12e3b2ce4b7f11e7b1e6005056236692"/></g2:sa.ITEM>
      <g2:sa.SIDE g2:type="Symbol">BOTTOM</g2:sa.SIDE>
      <g2:sa.POSITION g2:type="Integer">25</g2:sa.POSITION></g2:Structure></g2:a.CONNECTION-INPUT>
  <g2:a.ITEM-COLOR-PATTERN>
    <g2:Structure>
      <g2:sa.OUTLINE g2:type="Symbol">RED</g2:sa.OUTLINE>
      <g2:sa.INSIDE g2:type="Symbol">TURQUOISE</g2:sa.INSIDE></g2:Structure></g2:a.ITEM-COLOR-PATTERN></c.NEXT-BENCHMARK>

<c.BENCHMARK-TEST ID="4ac8896d4de311e797fb005056236692">
  <g2:a.NAMES g2:type="Symbol">SUBS-CUSTOM-EVENT</g2:a.NAMES>
  <ua.TEST-RESULT>
    <c.TEST-RESULT-PARAMETER ID="4ac889784de311e797fb005056236692">
      <g2:a.OPTIONS>
        <g2:Structure>
          <g2:sa.FORWARD-CHAIN g2:type="TruthValue">true</g2:sa.FORWARD-CHAIN>
          <g2:sa.FORWARD-CHAIN-EVEN-FOR-SAME-VALUE g2:type="TruthValue">false</g2:sa.FORWARD-CHAIN-EVEN-FOR-SAME-VALUE></g2:Structure></g2:a.OPTIONS>
      <ua.TEST-INFO>
        <g2:c.TEXT-PARAMETER ID="4ac889794de311e797fb005056236692">
          <g2:a.OPTIONS>
            <g2:Structure>
              <g2:sa.FORWARD-CHAIN g2:type="TruthValue">false</g2:sa.FORWARD-CHAIN>
              <g2:sa.FORWARD-CHAIN-EVEN-FOR-SAME-VALUE g2:type="TruthValue">false</g2:sa.FORWARD-CHAIN-EVEN-FOR-SAME-VALUE></g2:Structure></g2:a.OPTIONS>
          <g2:a.ICON-VARIABLES>
            <g2:Structure>
              <g2:sa.WIDTH g2:type="Integer">50</g2:sa.WIDTH>
              <g2:sa.HEIGHT g2:type="Integer">50</g2:sa.HEIGHT></g2:Structure></g2:a.ICON-VARIABLES></g2:c.TEXT-PARAMETER></ua.TEST-INFO>
      <g2:a.ICON-VARIABLES>
        <g2:Structure>
          <g2:sa.WIDTH g2:type="Integer">50</g2:sa.WIDTH>
          <g2:sa.HEIGHT g2:type="Integer">50</g2:sa.HEIGHT></g2:Structure></g2:a.ICON-VARIABLES></c.TEST-RESULT-PARAMETER></ua.TEST-RESULT>
  <ua.TIMEOUT-LIMIT g2:type="Integer" g2:unit="SECONDS">10</ua.TIMEOUT-LIMIT>
  <ua.COUNTED g2:type="TruthValue" g2:unit="TRUTH-VALUE">false</ua.COUNTED>
  <g2:a.ICON-VARIABLES>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">30</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">24</g2:sa.HEIGHT></g2:Structure></g2:a.ICON-VARIABLES>
  <g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING><c.NEXT-BENCHMARK rdf:resource="#a5eae4ad4eee11e78d93005056236692"/></g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING>
  <g2:a.POSITION-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.X g2:type="Integer">-109</g2:sa.X>
      <g2:sa.Y g2:type="Integer">-46</g2:sa.Y>
      <g2:sa.SUPERIOR><g2:c.KB-WORKSPACE rdf:resource="#12e3b2ea4b7f11e7b1e6005056236692"/></g2:sa.SUPERIOR></g2:Structure></g2:a.POSITION-IN-WORKSPACE>
  <g2:a.SIZE-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">30</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">24</g2:sa.HEIGHT></g2:Structure></g2:a.SIZE-IN-WORKSPACE>
  <g2:a.NAME-BOX>
    <g2:Structure>
      <g2:sa.COLOR>
        <g2:Structure>
          <g2:sa.BACKGROUND-COLOR g2:type="Symbol">TRANSPARENT</g2:sa.BACKGROUND-COLOR>
          <g2:sa.TEXT-COLOR g2:type="Symbol">FOREGROUND</g2:sa.TEXT-COLOR></g2:Structure></g2:sa.COLOR>
      <g2:sa.POSITION>
        <g2:Structure>
          <g2:sa.X-OFFSET g2:type="Integer">-202</g2:sa.X-OFFSET>
          <g2:sa.Y-OFFSET g2:type="Integer">14</g2:sa.Y-OFFSET></g2:Structure></g2:sa.POSITION></g2:Structure></g2:a.NAME-BOX></c.BENCHMARK-TEST>

<g2:c.KB-WORKSPACE ID="4ac889774de311e797fb005056236692">
  <g2:a.DEFAULT-WINDOW-POSITION-AND-SCALE>
    <g2:Structure>
      <g2:sa.X g2:type="Integer">1113</g2:sa.X>
      <g2:sa.Y g2:type="Integer">327</g2:sa.Y></g2:Structure></g2:a.DEFAULT-WINDOW-POSITION-AND-SCALE>
  <g2:a.EDGES-OF-WORKSPACE>
    <g2:Structure>
      <g2:sa.LEFT g2:type="Integer">-355</g2:sa.LEFT>
      <g2:sa.TOP g2:type="Integer">221</g2:sa.TOP>
      <g2:sa.RIGHT g2:type="Integer">195</g2:sa.RIGHT>
      <g2:sa.BOTTOM g2:type="Integer">-68</g2:sa.BOTTOM></g2:Structure></g2:a.EDGES-OF-WORKSPACE>
  <g2:a.PARENT-OF-SUBWORKSPACE><c.BENCHMARK-TEST rdf:resource="#4ac8896d4de311e797fb005056236692"/></g2:a.PARENT-OF-SUBWORKSPACE></g2:c.KB-WORKSPACE>

<g2:c.PROCEDURE ID="4ac889724de311e797fb005056236692">
  
  <g2:a.TEXT><![CDATA[
custom-event-handler(event : symbol, item: class item, denotation-sequence: sequence, new-value: item-or-value, user-data : item-or-value, subscription-handle : integer)
customevt-1: symbol = the symbol EVT1;
customevt-2: symbol = the symbol EVT2; 
smbl-custom-event: symbol = the symbol custom-event;
custom-val-evt2: text = "0.7";
begin
     if event = smbl-custom-event then begin

        {changing the value to display for the item}
        if the custom-event-name of denotation-sequence[0] = customevt-1 then begin
            conclude that the expression-to-display of item = new-value;
        end;
    
        if the custom-event-name of denotation-sequence[0] = customevt-2 then     begin
            conclude that the expression-to-display of item = custom-val-evt2;
            call g2-deregister-subscription (subscription-handle); 
        end;
    end;
     
end

]]></g2:a.TEXT>
  <g2:a.ICON-VARIABLES>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">50</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">50</g2:sa.HEIGHT></g2:Structure></g2:a.ICON-VARIABLES>
  <g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING><g2:c.DIAL rdf:resource="#4ac889734de311e797fb005056236692"/></g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING>
  <g2:a.POSITION-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.X g2:type="Integer">-208</g2:sa.X>
      <g2:sa.Y g2:type="Integer">23</g2:sa.Y>
      <g2:sa.SUPERIOR><g2:c.KB-WORKSPACE rdf:resource="#4ac889774de311e797fb005056236692"/></g2:sa.SUPERIOR></g2:Structure></g2:a.POSITION-IN-WORKSPACE>
  <g2:a.SIZE-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">50</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">50</g2:sa.HEIGHT></g2:Structure></g2:a.SIZE-IN-WORKSPACE>
  <g2:a.NAME-BOX>
    <g2:Structure>
      <g2:sa.COLOR>
        <g2:Structure>
          <g2:sa.BACKGROUND-COLOR g2:type="Symbol">TRANSPARENT</g2:sa.BACKGROUND-COLOR>
          <g2:sa.TEXT-COLOR g2:type="Symbol">FOREGROUND</g2:sa.TEXT-COLOR></g2:Structure></g2:sa.COLOR>
      <g2:sa.POSITION>
        <g2:Structure>
          <g2:sa.X-OFFSET g2:type="Integer">-106</g2:sa.X-OFFSET>
          <g2:sa.Y-OFFSET g2:type="Integer">-29</g2:sa.Y-OFFSET></g2:Structure></g2:sa.POSITION></g2:Structure></g2:a.NAME-BOX></g2:c.PROCEDURE>

<g2:c.DIAL ID="4ac889734de311e797fb005056236692">
  <g2:a.NAMES g2:type="Symbol">MY-DIAL-TEST</g2:a.NAMES>
  <g2:a.EXPRESSION-TO-DISPLAY>0.7</g2:a.EXPRESSION-TO-DISPLAY>
  <g2:a.DISPLAY-UPDATE-INTERVAL g2:type="Integer">1</g2:a.DISPLAY-UPDATE-INTERVAL>
  <g2:a.DISPLAY-WAIT-INTERVAL g2:type="Integer">1</g2:a.DISPLAY-WAIT-INTERVAL>
  <g2:a.ICON-VARIABLES>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">120</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">120</g2:sa.HEIGHT></g2:Structure></g2:a.ICON-VARIABLES>
  <g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING><g2:c.PROCEDURE rdf:resource="#4ac889744de311e797fb005056236692"/></g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING>
  <g2:a.POSITION-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.X g2:type="Integer">103</g2:sa.X>
      <g2:sa.Y g2:type="Integer">85</g2:sa.Y>
      <g2:sa.SUPERIOR><g2:c.KB-WORKSPACE rdf:resource="#4ac889774de311e797fb005056236692"/></g2:sa.SUPERIOR></g2:Structure></g2:a.POSITION-IN-WORKSPACE>
  <g2:a.SIZE-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">120</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">120</g2:sa.HEIGHT></g2:Structure></g2:a.SIZE-IN-WORKSPACE>
  <g2:a.NAME-BOX>
    <g2:Structure>
      <g2:sa.COLOR>
        <g2:Structure>
          <g2:sa.BACKGROUND-COLOR g2:type="Symbol">TRANSPARENT</g2:sa.BACKGROUND-COLOR>
          <g2:sa.TEXT-COLOR g2:type="Symbol">FOREGROUND</g2:sa.TEXT-COLOR></g2:Structure></g2:sa.COLOR>
      <g2:sa.POSITION>
        <g2:Structure>
          <g2:sa.X-OFFSET g2:type="Integer">-64</g2:sa.X-OFFSET>
          <g2:sa.Y-OFFSET g2:type="Integer">-64</g2:sa.Y-OFFSET></g2:Structure></g2:sa.POSITION></g2:Structure></g2:a.NAME-BOX></g2:c.DIAL>

<g2:c.PROCEDURE ID="4ac889744de311e797fb005056236692">
  
  <g2:a.TEXT><![CDATA[
SUBS-CUSTOM-EVENT-TEST(node: class benchmark-test) 
handles: sequence;
temp-handle: integer;
index: integer;
callback-1-id: integer = 1;

intermediate-val: text = "0.5";
intermediate-val-2: text = "0.75"; 
intermediate-val-f: text = "0.7";
 
customevt-1: symbol = the symbol EVT1;
customevt-2: symbol = the symbol EVT2; 

err : class error;
err-happ: truth-value = false;
BEGIN
    handles = call g2-get-subscription-handles-for-item (my-dial-test );

    {cleaning up handles if one exists}
    for index = 0 to (the  number of elements in handles) - 1 do 
        call g2-deregister-subscription (handles[index]);
    end;
    handles = call g2-get-subscription-handles-for-item (my-dial-test ); 

    {there must be no handles}
    if  the number of elements in handles > 0 then begin
        call fail(node, "CUSTOM-EVENT-TEST: item my-dial-test should have no handles");
        return;
    end;

    {testing subscription for nonexistent item}
    begin
        call g2-subscribe-to-custom-event (my-item, the symbol custom-event, custom-event-handler, callback-1-id);
    end on error(err)
        err-happ = true;
        delete err;
    end;
    if err-happ /= true then begin
        call fail(node, "CUSTOM-EVENT-TEST: subscribing to nonexistent item did not fail propperly");
        return;
    end;

    
    {testing subscription for nonexistent callback}
    err-happ = false;
    begin
        call g2-subscribe-to-custom-event(my-dial-test, the symbol custom-event, wrong-custom-event-handler, callback-1-id);
    end on error(err)
        err-happ = true;
        delete err;
    end;
    if err-happ /= true then begin
        call fail(node, "CUSTOM-EVENT-TEST: subscribing with wrong callback did not fail properly");
        return;
    end; 


    {creating one subscription}
    temp-handle = call g2-subscribe-to-custom-event (my-dial-test , customevt-1, custom-event-handler, callback-1-id );
    handles = call g2-get-subscription-handles-for-item (my-dial-test );  
    
    if the number of elements in handles /= 1 then begin
        call fail(node, "There should be one subscription handle for the item: [the number of elements in handles]");
        return;
    end;

    {Test if the callback was actually called}
    call g2-send-notification-to-item (my-dial-test , customevt-1, intermediate-val );
    wait until the expression-to-display of my-dial-test = intermediate-val checking every 1 second; 


    {creating the second subscription}
    temp-handle = call g2-subscribe-to-custom-event (my-dial-test , customevt-2, custom-event-handler, callback-1-id );
    handles = call g2-get-subscription-handles-for-item (my-dial-test );  
    
    if the number of elements in handles /= 2 then begin
        call fail(node, "There should be two subscription handle for the item: [the number of elements in handles]");
        return;
    end;

    {Test if the callback was actually called}
    call g2-send-notification-to-item (my-dial-test , customevt-2, intermediate-val-2 );
    wait until the expression-to-display of my-dial-test = intermediate-val-f checking every 1 second; 


    {checking there are only one subscriptions}
    handles = call g2-get-subscription-handles-for-item (my-dial-test ); 
    if the number of elements in handles /= 1 then begin
        call fail(node, " CUSTOM-EVENT-TEST:  There should be no procedure handles fo the item");
        return;
    end;
    {cleaning up handles if one exists}
    for index = 0 to (the  number of elements in handles) - 1 do 
        call g2-deregister-subscription (handles[index]);
    end; 

    call pass (node);
END
]]></g2:a.TEXT>
  <g2:a.ICON-VARIABLES>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">50</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">50</g2:sa.HEIGHT></g2:Structure></g2:a.ICON-VARIABLES>
  <g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING><g2:c.BORDERLESS-FREE-TEXT rdf:resource="#4ac889754de311e797fb005056236692"/></g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING>
  <g2:a.POSITION-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.X g2:type="Integer">-214</g2:sa.X>
      <g2:sa.Y g2:type="Integer">119</g2:sa.Y>
      <g2:sa.SUPERIOR><g2:c.KB-WORKSPACE rdf:resource="#4ac889774de311e797fb005056236692"/></g2:sa.SUPERIOR></g2:Structure></g2:a.POSITION-IN-WORKSPACE>
  <g2:a.SIZE-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">50</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">50</g2:sa.HEIGHT></g2:Structure></g2:a.SIZE-IN-WORKSPACE>
  <g2:a.NAME-BOX>
    <g2:Structure>
      <g2:sa.COLOR>
        <g2:Structure>
          <g2:sa.BACKGROUND-COLOR g2:type="Symbol">TRANSPARENT</g2:sa.BACKGROUND-COLOR>
          <g2:sa.TEXT-COLOR g2:type="Symbol">FOREGROUND</g2:sa.TEXT-COLOR></g2:Structure></g2:sa.COLOR>
      <g2:sa.POSITION>
        <g2:Structure>
          <g2:sa.X-OFFSET g2:type="Integer">-111</g2:sa.X-OFFSET>
          <g2:sa.Y-OFFSET g2:type="Integer">-29</g2:sa.Y-OFFSET></g2:Structure></g2:sa.POSITION></g2:Structure></g2:a.NAME-BOX></g2:c.PROCEDURE>

<g2:c.BORDERLESS-FREE-TEXT ID="4ac889754de311e797fb005056236692">
  <g2:a.TEXT>WS-CUSTOM-EVENT</g2:a.TEXT>
  <g2:a.TEXT-FONT>
    <g2:Structure>
      <g2:sa.FONT-SIZE g2:type="Symbol">LARGE</g2:sa.FONT-SIZE></g2:Structure></g2:a.TEXT-FONT>
  <g2:a.TEXT-ALIGNMENT g2:type="Symbol">LEFT</g2:a.TEXT-ALIGNMENT>
  <g2:a.POSITION-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.X g2:type="Integer">-117</g2:sa.X>
      <g2:sa.Y g2:type="Integer">179</g2:sa.Y>
      <g2:sa.SUPERIOR><g2:c.KB-WORKSPACE rdf:resource="#4ac889774de311e797fb005056236692"/></g2:sa.SUPERIOR></g2:Structure></g2:a.POSITION-IN-WORKSPACE>
  <g2:a.SIZE-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">199</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">25</g2:sa.HEIGHT></g2:Structure></g2:a.SIZE-IN-WORKSPACE></g2:c.BORDERLESS-FREE-TEXT>

<g2:c.LOOSE-END ID="4ac8896f4de311e797fb005056236692">
  <g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING><c.END-FLOW rdf:resource="#12e3b2c94b7f11e7b1e6005056236692"/></g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING>
  <g2:a.POSITION-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.X g2:type="Integer">-104</g2:sa.X>
      <g2:sa.Y g2:type="Integer">-231</g2:sa.Y>
      <g2:sa.SUPERIOR><g2:c.KB-WORKSPACE rdf:resource="#12e3b2ea4b7f11e7b1e6005056236692"/></g2:sa.SUPERIOR></g2:Structure></g2:a.POSITION-IN-WORKSPACE></g2:c.LOOSE-END>

<c.NEXT-BENCHMARK ID="4ac889704de311e797fb005056236692">
  <g2:a.CONNECTION-VERTICES>
    <g2:Sequence>
      <rdf:li g2:type="Integer">4</rdf:li></g2:Sequence></g2:a.CONNECTION-VERTICES>
  <g2:a.CONNECTION-STYLE g2:type="Symbol">ORTHOGONAL</g2:a.CONNECTION-STYLE>
  <g2:a.CONNECTION-OUTPUT>
    <g2:Structure>
      <g2:sa.ITEM><g2:c.LOOSE-END rdf:resource="#4ac8896f4de311e797fb005056236692"/></g2:sa.ITEM>
      <g2:sa.SIDE g2:type="Symbol">BOTTOM</g2:sa.SIDE>
      <g2:sa.POSITION g2:type="Integer">0</g2:sa.POSITION>
      <g2:sa.PORT-NAME g2:type="Symbol">STUB-CONNECTION</g2:sa.PORT-NAME></g2:Structure></g2:a.CONNECTION-OUTPUT>
  <g2:a.CONNECTION-INPUT>
    <g2:Structure>
      <g2:sa.ITEM><c.END-FLOW rdf:resource="#12e3b2c94b7f11e7b1e6005056236692"/></g2:sa.ITEM>
      <g2:sa.SIDE g2:type="Symbol">TOP</g2:sa.SIDE>
      <g2:sa.POSITION g2:type="Integer">27</g2:sa.POSITION></g2:Structure></g2:a.CONNECTION-INPUT>
  <g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING><c.NEXT-BENCHMARK rdf:resource="#a5eae4ae4eee11e78d93005056236692"/></g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING>
  <g2:a.ITEM-COLOR-PATTERN>
    <g2:Structure>
      <g2:sa.OUTLINE g2:type="Symbol">RED</g2:sa.OUTLINE>
      <g2:sa.INSIDE g2:type="Symbol">TURQUOISE</g2:sa.INSIDE></g2:Structure></g2:a.ITEM-COLOR-PATTERN></c.NEXT-BENCHMARK>

<c.NEXT-BENCHMARK ID="4ac889714de311e797fb005056236692">
  <g2:a.CONNECTION-VERTICES>
    <g2:Sequence>
      <rdf:li g2:type="Integer">-5</rdf:li>
      <rdf:li g2:type="Integer">0</rdf:li></g2:Sequence></g2:a.CONNECTION-VERTICES>
  <g2:a.CONNECTION-STYLE g2:type="Symbol">ORTHOGONAL</g2:a.CONNECTION-STYLE>
  <g2:a.CONNECTION-OUTPUT>
    <g2:Structure>
      <g2:sa.ITEM><c.BENCHMARK-TEST rdf:resource="#4ac8896d4de311e797fb005056236692"/></g2:sa.ITEM>
      <g2:sa.SIDE g2:type="Symbol">TOP</g2:sa.SIDE>
      <g2:sa.POSITION g2:type="Integer">16</g2:sa.POSITION></g2:Structure></g2:a.CONNECTION-OUTPUT>
  <g2:a.CONNECTION-INPUT>
    <g2:Structure>
      <g2:sa.ITEM><c.BENCHMARK-TEST rdf:resource="#12e3b2cc4b7f11e7b1e6005056236692"/></g2:sa.ITEM>
      <g2:sa.SIDE g2:type="Symbol">BOTTOM</g2:sa.SIDE>
      <g2:sa.POSITION g2:type="Integer">15</g2:sa.POSITION>
      <g2:sa.PORT-NAME g2:type="Symbol">NEXT-TEST-PORT</g2:sa.PORT-NAME></g2:Structure></g2:a.CONNECTION-INPUT>
  <g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING><c.START-FLOW rdf:resource="#12e3b2ce4b7f11e7b1e6005056236692"/></g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING>
  <g2:a.ITEM-COLOR-PATTERN>
    <g2:Structure>
      <g2:sa.OUTLINE g2:type="Symbol">RED</g2:sa.OUTLINE>
      <g2:sa.INSIDE g2:type="Symbol">TURQUOISE</g2:sa.INSIDE></g2:Structure></g2:a.ITEM-COLOR-PATTERN></c.NEXT-BENCHMARK>

<g2:c.LOOSE-END ID="a5eae4aa4eee11e78d93005056236692">
  <g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING><c.BENCHMARK-TEST rdf:resource="#a5eae4ab4eee11e78d93005056236692"/></g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING>
  <g2:a.POSITION-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.X g2:type="Integer">-108</g2:sa.X>
      <g2:sa.Y g2:type="Integer">-231</g2:sa.Y>
      <g2:sa.SUPERIOR><g2:c.KB-WORKSPACE rdf:resource="#12e3b2ea4b7f11e7b1e6005056236692"/></g2:sa.SUPERIOR></g2:Structure></g2:a.POSITION-IN-WORKSPACE></g2:c.LOOSE-END>

<c.BENCHMARK-TEST ID="a5eae4ab4eee11e78d93005056236692">
  <g2:a.NAMES g2:type="Symbol">SUBS-ITEM-ATTR</g2:a.NAMES>
  <ua.TEST-RESULT>
    <c.TEST-RESULT-PARAMETER ID="a5eae4b34eee11e78d93005056236692">
      <g2:a.OPTIONS>
        <g2:Structure>
          <g2:sa.FORWARD-CHAIN g2:type="TruthValue">true</g2:sa.FORWARD-CHAIN>
          <g2:sa.FORWARD-CHAIN-EVEN-FOR-SAME-VALUE g2:type="TruthValue">false</g2:sa.FORWARD-CHAIN-EVEN-FOR-SAME-VALUE></g2:Structure></g2:a.OPTIONS>
      <ua.TEST-INFO>
        <g2:c.TEXT-PARAMETER ID="a5eae4b44eee11e78d93005056236692">
          <g2:a.OPTIONS>
            <g2:Structure>
              <g2:sa.FORWARD-CHAIN g2:type="TruthValue">false</g2:sa.FORWARD-CHAIN>
              <g2:sa.FORWARD-CHAIN-EVEN-FOR-SAME-VALUE g2:type="TruthValue">false</g2:sa.FORWARD-CHAIN-EVEN-FOR-SAME-VALUE></g2:Structure></g2:a.OPTIONS>
          <g2:a.ICON-VARIABLES>
            <g2:Structure>
              <g2:sa.WIDTH g2:type="Integer">50</g2:sa.WIDTH>
              <g2:sa.HEIGHT g2:type="Integer">50</g2:sa.HEIGHT></g2:Structure></g2:a.ICON-VARIABLES></g2:c.TEXT-PARAMETER></ua.TEST-INFO>
      <g2:a.ICON-VARIABLES>
        <g2:Structure>
          <g2:sa.WIDTH g2:type="Integer">50</g2:sa.WIDTH>
          <g2:sa.HEIGHT g2:type="Integer">50</g2:sa.HEIGHT></g2:Structure></g2:a.ICON-VARIABLES></c.TEST-RESULT-PARAMETER></ua.TEST-RESULT>
  <ua.TIMEOUT-LIMIT g2:type="Integer" g2:unit="SECONDS">10</ua.TIMEOUT-LIMIT>
  <ua.COUNTED g2:type="TruthValue" g2:unit="TRUTH-VALUE">false</ua.COUNTED>
  <g2:a.ICON-VARIABLES>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">30</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">24</g2:sa.HEIGHT></g2:Structure></g2:a.ICON-VARIABLES>
  <g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING><c.NEXT-BENCHMARK rdf:resource="#6cc1bffc4fd111e788b5005056236692"/></g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING>
  <g2:a.POSITION-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.X g2:type="Integer">-110</g2:sa.X>
      <g2:sa.Y g2:type="Integer">-124</g2:sa.Y>
      <g2:sa.SUPERIOR><g2:c.KB-WORKSPACE rdf:resource="#12e3b2ea4b7f11e7b1e6005056236692"/></g2:sa.SUPERIOR></g2:Structure></g2:a.POSITION-IN-WORKSPACE>
  <g2:a.SIZE-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">30</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">24</g2:sa.HEIGHT></g2:Structure></g2:a.SIZE-IN-WORKSPACE>
  <g2:a.NAME-BOX>
    <g2:Structure>
      <g2:sa.COLOR>
        <g2:Structure>
          <g2:sa.BACKGROUND-COLOR g2:type="Symbol">TRANSPARENT</g2:sa.BACKGROUND-COLOR>
          <g2:sa.TEXT-COLOR g2:type="Symbol">FOREGROUND</g2:sa.TEXT-COLOR></g2:Structure></g2:sa.COLOR>
      <g2:sa.POSITION>
        <g2:Structure>
          <g2:sa.X-OFFSET g2:type="Integer">-165</g2:sa.X-OFFSET>
          <g2:sa.Y-OFFSET g2:type="Integer">12</g2:sa.Y-OFFSET></g2:Structure></g2:sa.POSITION></g2:Structure></g2:a.NAME-BOX></c.BENCHMARK-TEST>

<g2:c.KB-WORKSPACE ID="a5eae4b24eee11e78d93005056236692">
  <g2:a.EDGES-OF-WORKSPACE>
    <g2:Structure>
      <g2:sa.LEFT g2:type="Integer">-376</g2:sa.LEFT>
      <g2:sa.TOP g2:type="Integer">238</g2:sa.TOP>
      <g2:sa.RIGHT g2:type="Integer">194</g2:sa.RIGHT>
      <g2:sa.BOTTOM g2:type="Integer">-68</g2:sa.BOTTOM></g2:Structure></g2:a.EDGES-OF-WORKSPACE>
  <g2:a.PARENT-OF-SUBWORKSPACE><c.BENCHMARK-TEST rdf:resource="#a5eae4ab4eee11e78d93005056236692"/></g2:a.PARENT-OF-SUBWORKSPACE></g2:c.KB-WORKSPACE>

<g2:c.DIAL ID="a5eae4af4eee11e78d93005056236692">
  <g2:a.NAMES g2:type="Symbol">MY-DIAL-ATTR-TEST</g2:a.NAMES>
  <g2:a.EXPRESSION-TO-DISPLAY>0.2</g2:a.EXPRESSION-TO-DISPLAY>
  <g2:a.DISPLAY-UPDATE-INTERVAL g2:type="Integer">1</g2:a.DISPLAY-UPDATE-INTERVAL>
  <g2:a.ICON-VARIABLES>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">120</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">120</g2:sa.HEIGHT></g2:Structure></g2:a.ICON-VARIABLES>
  <g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING><g2:c.PROCEDURE rdf:resource="#a5eae4b04eee11e78d93005056236692"/></g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING>
  <g2:a.POSITION-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.X g2:type="Integer">80</g2:sa.X>
      <g2:sa.Y g2:type="Integer">126</g2:sa.Y>
      <g2:sa.SUPERIOR><g2:c.KB-WORKSPACE rdf:resource="#a5eae4b24eee11e78d93005056236692"/></g2:sa.SUPERIOR></g2:Structure></g2:a.POSITION-IN-WORKSPACE>
  <g2:a.SIZE-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">120</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">120</g2:sa.HEIGHT></g2:Structure></g2:a.SIZE-IN-WORKSPACE>
  <g2:a.NAME-BOX>
    <g2:Structure>
      <g2:sa.COLOR>
        <g2:Structure>
          <g2:sa.BACKGROUND-COLOR g2:type="Symbol">TRANSPARENT</g2:sa.BACKGROUND-COLOR>
          <g2:sa.TEXT-COLOR g2:type="Symbol">FOREGROUND</g2:sa.TEXT-COLOR></g2:Structure></g2:sa.COLOR>
      <g2:sa.POSITION>
        <g2:Structure>
          <g2:sa.X-OFFSET g2:type="Integer">-85</g2:sa.X-OFFSET>
          <g2:sa.Y-OFFSET g2:type="Integer">-64</g2:sa.Y-OFFSET></g2:Structure></g2:sa.POSITION></g2:Structure></g2:a.NAME-BOX></g2:c.DIAL>

<g2:c.PROCEDURE ID="a5eae4b04eee11e78d93005056236692">
  
  <g2:a.TEXT><![CDATA[
SUBS-ITEM-ATTR-TEST(node: class benchmark-test) 
handles: sequence;
temp-handle: integer;
index: integer;
callback-1-id: integer = 1;
callback-2-id: integer = 2;

intermediate-val: text = "0.5";
intermediate-val-2: text = "0.80"; 
intermediate-val-f: text = "0.2";
 
customevt-1: symbol = the symbol all;
customevt-2: symbol = the symbol display-wait-interval; 

err : class error;
err-happ: truth-value = false;
BEGIN
    handles = call g2-get-subscription-handles-for-item (my-dial-attr-test );

    {cleaning up handles if one exists}
    for index = 0 to (the  number of elements in handles) - 1 do 
        call g2-deregister-subscription (handles[index]);
    end;
    handles = call g2-get-subscription-handles-for-item (my-dial-test ); 

    {there must be no handles}
    if  the number of elements in handles > 0 then begin
        call fail(node, "SUBS-ITEM-ATTR: item my-dial-attr-test should have no handles");
        return;
    end;

    {testing subscription for nonexistent item}
    begin
        call g2-subscribe-to-item-attributes (my-item, the symbol all, subs-item-attr-handler, callback-1-id);
    end on error(err)
        err-happ = true;
        delete err;
    end;
    if err-happ /= true then begin
        call fail(node, "SUBS-ITEM-ATTR: subscribing to nonexistent item did not fail propperly");
        return;
    end;

    
    {testing subscription for nonexistent callback}
    err-happ = false;
    begin
        call g2-subscribe-to-item-attributes (my-dial-attr-test, the symbol all, wrong-custom-event-handler, callback-1-id);
    end on error(err)
        err-happ = true;
        delete err;
    end;
    if err-happ /= true then begin
        call fail(node, "SUBS-ITEM-ATTR: subscribing with wrong callback did not fail properly");
        return;
    end; 
    
    {creating one subscription}
    temp-handle = call g2-subscribe-to-item-attributes (my-dial-attr-test , customevt-1, subs-item-attr-handler, callback-1-id );
    handles = call g2-get-subscription-handles-for-item (my-dial-attr-test );  
    
    if the number of elements in handles /= 1 then begin
        call fail(node, "There should be one subscription handle for the item: [the number of elements in handles]");
        return;
    end;

    conclude that the expression-to-display of my-dial-attr-test = intermediate-val;
    wait until the expression-to-display of my-dial-attr-test  = intermediate-val-2 checking every 1 second; 

    {creating the second subscription}
    temp-handle = call g2-subscribe-to-item-attributes (my-dial-attr-test , customevt-2, subs-item-attr-handler, callback-2-id );
    handles = call g2-get-subscription-handles-for-item (my-dial-attr-test );  
    
    if the number of elements in handles /= 2 then begin
        call fail(node, "There should be two subscription handle for the item: [the number of elements in handles]");
        return;
    end;
    
    {checking if the second modification will trigger an event that will change the value}
    conclude that the display-wait-interval of my-dial-attr-test = 2;
    wait until the expression-to-display  of my-dial-attr-test  = intermediate-val-f  checking every 1 second;

    {it must exist only 1 handle now}
    handles = call g2-get-subscription-handles-for-item (my-dial-attr-test); 
    if the number of elements in handles /= 1 then begin
        call fail(node, "There should be one subscription handle for the item: [the number of elements in handles]");
        return;
    end;        

    handles = call g2-get-subscription-handles-for-item (my-dial-attr-test); 
    {cleaning up handles if one exists}
    for index = 0 to (the  number of elements in handles) - 1 do 
        call g2-deregister-subscription (handles[index]);
    end; 

    call pass (node);
END 
]]></g2:a.TEXT>
  <g2:a.ICON-VARIABLES>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">50</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">50</g2:sa.HEIGHT></g2:Structure></g2:a.ICON-VARIABLES>
  <g2:a.POSITION-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.X g2:type="Integer">-240</g2:sa.X>
      <g2:sa.Y g2:type="Integer">144</g2:sa.Y>
      <g2:sa.SUPERIOR><g2:c.KB-WORKSPACE rdf:resource="#a5eae4b24eee11e78d93005056236692"/></g2:sa.SUPERIOR></g2:Structure></g2:a.POSITION-IN-WORKSPACE>
  <g2:a.SIZE-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">50</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">50</g2:sa.HEIGHT></g2:Structure></g2:a.SIZE-IN-WORKSPACE>
  <g2:a.NAME-BOX>
    <g2:Structure>
      <g2:sa.COLOR>
        <g2:Structure>
          <g2:sa.BACKGROUND-COLOR g2:type="Symbol">TRANSPARENT</g2:sa.BACKGROUND-COLOR>
          <g2:sa.TEXT-COLOR g2:type="Symbol">FOREGROUND</g2:sa.TEXT-COLOR></g2:Structure></g2:sa.COLOR>
      <g2:sa.POSITION>
        <g2:Structure>
          <g2:sa.X-OFFSET g2:type="Integer">-93</g2:sa.X-OFFSET>
          <g2:sa.Y-OFFSET g2:type="Integer">-29</g2:sa.Y-OFFSET></g2:Structure></g2:sa.POSITION></g2:Structure></g2:a.NAME-BOX></g2:c.PROCEDURE>

<g2:c.PROCEDURE ID="65de3a1d4efd11e78d93005056236692">
  
  <g2:a.TEXT><![CDATA[
subs-item-attr-handler(event : symbol, item: class item, info: sequence, new-value: item-or-value, user-data : item-or-value, subscription-handle : integer)
intermediate-val-2: text = "0.80"; 
intermediate-val-f: text = "0.2"; 
initial-val: text = "0.5";
callback-1-id: integer = 1; 
callback-2-id: integer = 2; 

attr-id: symbol = the symbol name;
attr-name: symbol = the symbol DISPLAY-WAIT-INTERVAL;

evttype: symbol = the symbol modify;
evttemp: structure;
begin
    evttemp = info[0];
    attr-id = the symbol that is an attribute of evttemp named by attr-id;
    if evttype = event then begin
         if new-value = initial-val  and user-data = callback-1-id then
            begin
            conclude that the expression-to-display of my-dial-attr-test  = intermediate-val-2;
            end
        else if  (user-data = callback-2-id) and (attr-id = attr-name) then begin
            conclude that the expression-to-display of my-dial-attr-test  = intermediate-val-f;
            call g2-deregister-subscription (subscription-handle);            
        end; 
    end;
     
end 
]]></g2:a.TEXT>
  <g2:a.ICON-VARIABLES>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">50</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">50</g2:sa.HEIGHT></g2:Structure></g2:a.ICON-VARIABLES>
  <g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING><g2:c.DIAL rdf:resource="#a5eae4af4eee11e78d93005056236692"/></g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING>
  <g2:a.POSITION-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.X g2:type="Integer">-237</g2:sa.X>
      <g2:sa.Y g2:type="Integer">23</g2:sa.Y>
      <g2:sa.SUPERIOR><g2:c.KB-WORKSPACE rdf:resource="#a5eae4b24eee11e78d93005056236692"/></g2:sa.SUPERIOR></g2:Structure></g2:a.POSITION-IN-WORKSPACE>
  <g2:a.SIZE-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">50</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">50</g2:sa.HEIGHT></g2:Structure></g2:a.SIZE-IN-WORKSPACE>
  <g2:a.NAME-BOX>
    <g2:Structure>
      <g2:sa.COLOR>
        <g2:Structure>
          <g2:sa.BACKGROUND-COLOR g2:type="Symbol">TRANSPARENT</g2:sa.BACKGROUND-COLOR>
          <g2:sa.TEXT-COLOR g2:type="Symbol">FOREGROUND</g2:sa.TEXT-COLOR></g2:Structure></g2:sa.COLOR>
      <g2:sa.POSITION>
        <g2:Structure>
          <g2:sa.X-OFFSET g2:type="Integer">-109</g2:sa.X-OFFSET>
          <g2:sa.Y-OFFSET g2:type="Integer">-29</g2:sa.Y-OFFSET></g2:Structure></g2:sa.POSITION></g2:Structure></g2:a.NAME-BOX></g2:c.PROCEDURE>

<g2:c.BORDERLESS-FREE-TEXT ID="6cc1bffe4fd111e788b5005056236692">
  <g2:a.TEXT>WS-SUBS-ITEM-ATTR</g2:a.TEXT>
  <g2:a.TEXT-FONT>
    <g2:Structure>
      <g2:sa.FONT-SIZE g2:type="Symbol">LARGE</g2:sa.FONT-SIZE></g2:Structure></g2:a.TEXT-FONT>
  <g2:a.TEXT-ALIGNMENT g2:type="Symbol">LEFT</g2:a.TEXT-ALIGNMENT>
  <g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING><g2:c.PROCEDURE rdf:resource="#65de3a1d4efd11e78d93005056236692"/></g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING>
  <g2:a.POSITION-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.X g2:type="Integer">-138</g2:sa.X>
      <g2:sa.Y g2:type="Integer">196</g2:sa.Y>
      <g2:sa.SUPERIOR><g2:c.KB-WORKSPACE rdf:resource="#a5eae4b24eee11e78d93005056236692"/></g2:sa.SUPERIOR></g2:Structure></g2:a.POSITION-IN-WORKSPACE>
  <g2:a.SIZE-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">206</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">25</g2:sa.HEIGHT></g2:Structure></g2:a.SIZE-IN-WORKSPACE></g2:c.BORDERLESS-FREE-TEXT>

<c.NEXT-BENCHMARK ID="a5eae4ad4eee11e78d93005056236692">
  <g2:a.CONNECTION-VERTICES g2:type="Sequence"></g2:a.CONNECTION-VERTICES>
  <g2:a.CONNECTION-STYLE g2:type="Symbol">ORTHOGONAL</g2:a.CONNECTION-STYLE>
  <g2:a.CONNECTION-OUTPUT>
    <g2:Structure>
      <g2:sa.ITEM><c.BENCHMARK-TEST rdf:resource="#a5eae4ab4eee11e78d93005056236692"/></g2:sa.ITEM>
      <g2:sa.SIDE g2:type="Symbol">TOP</g2:sa.SIDE>
      <g2:sa.POSITION g2:type="Integer">16</g2:sa.POSITION></g2:Structure></g2:a.CONNECTION-OUTPUT>
  <g2:a.CONNECTION-INPUT>
    <g2:Structure>
      <g2:sa.ITEM><c.BENCHMARK-TEST rdf:resource="#4ac8896d4de311e797fb005056236692"/></g2:sa.ITEM>
      <g2:sa.SIDE g2:type="Symbol">BOTTOM</g2:sa.SIDE>
      <g2:sa.POSITION g2:type="Integer">15</g2:sa.POSITION>
      <g2:sa.PORT-NAME g2:type="Symbol">NEXT-TEST-PORT</g2:sa.PORT-NAME></g2:Structure></g2:a.CONNECTION-INPUT>
  <g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING><g2:c.LOOSE-END rdf:resource="#4ac8896f4de311e797fb005056236692"/></g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING>
  <g2:a.ITEM-COLOR-PATTERN>
    <g2:Structure>
      <g2:sa.OUTLINE g2:type="Symbol">RED</g2:sa.OUTLINE>
      <g2:sa.INSIDE g2:type="Symbol">TURQUOISE</g2:sa.INSIDE></g2:Structure></g2:a.ITEM-COLOR-PATTERN></c.NEXT-BENCHMARK>

<c.NEXT-BENCHMARK ID="a5eae4ae4eee11e78d93005056236692">
  <g2:a.CONNECTION-VERTICES>
    <g2:Sequence>
      <rdf:li g2:type="Integer">4</rdf:li></g2:Sequence></g2:a.CONNECTION-VERTICES>
  <g2:a.CONNECTION-STYLE g2:type="Symbol">ORTHOGONAL</g2:a.CONNECTION-STYLE>
  <g2:a.CONNECTION-OUTPUT>
    <g2:Structure>
      <g2:sa.ITEM><g2:c.LOOSE-END rdf:resource="#a5eae4aa4eee11e78d93005056236692"/></g2:sa.ITEM>
      <g2:sa.SIDE g2:type="Symbol">BOTTOM</g2:sa.SIDE>
      <g2:sa.POSITION g2:type="Integer">0</g2:sa.POSITION>
      <g2:sa.PORT-NAME g2:type="Symbol">STUB-CONNECTION</g2:sa.PORT-NAME></g2:Structure></g2:a.CONNECTION-OUTPUT>
  <g2:a.CONNECTION-INPUT>
    <g2:Structure>
      <g2:sa.ITEM><c.END-FLOW rdf:resource="#12e3b2c94b7f11e7b1e6005056236692"/></g2:sa.ITEM>
      <g2:sa.SIDE g2:type="Symbol">TOP</g2:sa.SIDE>
      <g2:sa.POSITION g2:type="Integer">23</g2:sa.POSITION></g2:Structure></g2:a.CONNECTION-INPUT>
  <g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING><c.NEXT-BENCHMARK rdf:resource="#6cc1bffd4fd111e788b5005056236692"/></g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING>
  <g2:a.ITEM-COLOR-PATTERN>
    <g2:Structure>
      <g2:sa.OUTLINE g2:type="Symbol">RED</g2:sa.OUTLINE>
      <g2:sa.INSIDE g2:type="Symbol">TURQUOISE</g2:sa.INSIDE></g2:Structure></g2:a.ITEM-COLOR-PATTERN></c.NEXT-BENCHMARK>

<g2:c.LOOSE-END ID="6cc1bff94fd111e788b5005056236692">
  <g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING><c.BENCHMARK-TEST rdf:resource="#6cc1bffa4fd111e788b5005056236692"/></g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING>
  <g2:a.POSITION-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.X g2:type="Integer">-111</g2:sa.X>
      <g2:sa.Y g2:type="Integer">-231</g2:sa.Y>
      <g2:sa.SUPERIOR><g2:c.KB-WORKSPACE rdf:resource="#12e3b2ea4b7f11e7b1e6005056236692"/></g2:sa.SUPERIOR></g2:Structure></g2:a.POSITION-IN-WORKSPACE></g2:c.LOOSE-END>

<c.BENCHMARK-TEST ID="6cc1bffa4fd111e788b5005056236692">
  <g2:a.NAMES g2:type="Symbol">DEREG-SUBS-ITEM-DELETION</g2:a.NAMES>
  <ua.TEST-RESULT>
    <c.TEST-RESULT-PARAMETER ID="6cc1c0034fd111e788b5005056236692">
      <g2:a.OPTIONS>
        <g2:Structure>
          <g2:sa.FORWARD-CHAIN g2:type="TruthValue">true</g2:sa.FORWARD-CHAIN>
          <g2:sa.FORWARD-CHAIN-EVEN-FOR-SAME-VALUE g2:type="TruthValue">false</g2:sa.FORWARD-CHAIN-EVEN-FOR-SAME-VALUE></g2:Structure></g2:a.OPTIONS>
      <ua.TEST-INFO>
        <g2:c.TEXT-PARAMETER ID="6cc1c0044fd111e788b5005056236692">
          <g2:a.OPTIONS>
            <g2:Structure>
              <g2:sa.FORWARD-CHAIN g2:type="TruthValue">false</g2:sa.FORWARD-CHAIN>
              <g2:sa.FORWARD-CHAIN-EVEN-FOR-SAME-VALUE g2:type="TruthValue">false</g2:sa.FORWARD-CHAIN-EVEN-FOR-SAME-VALUE></g2:Structure></g2:a.OPTIONS>
          <g2:a.ICON-VARIABLES>
            <g2:Structure>
              <g2:sa.WIDTH g2:type="Integer">50</g2:sa.WIDTH>
              <g2:sa.HEIGHT g2:type="Integer">50</g2:sa.HEIGHT></g2:Structure></g2:a.ICON-VARIABLES></g2:c.TEXT-PARAMETER></ua.TEST-INFO>
      <g2:a.ICON-VARIABLES>
        <g2:Structure>
          <g2:sa.WIDTH g2:type="Integer">50</g2:sa.WIDTH>
          <g2:sa.HEIGHT g2:type="Integer">50</g2:sa.HEIGHT></g2:Structure></g2:a.ICON-VARIABLES></c.TEST-RESULT-PARAMETER></ua.TEST-RESULT>
  <ua.TIMEOUT-LIMIT g2:type="Integer" g2:unit="SECONDS">10</ua.TIMEOUT-LIMIT>
  <ua.COUNTED g2:type="TruthValue" g2:unit="TRUTH-VALUE">false</ua.COUNTED>
  <g2:a.ICON-VARIABLES>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">30</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">24</g2:sa.HEIGHT></g2:Structure></g2:a.ICON-VARIABLES>
  <g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING><c.NEXT-BENCHMARK rdf:resource="#6cc1bffb4fd111e788b5005056236692"/></g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING>
  <g2:a.POSITION-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.X g2:type="Integer">-110</g2:sa.X>
      <g2:sa.Y g2:type="Integer">-183</g2:sa.Y>
      <g2:sa.SUPERIOR><g2:c.KB-WORKSPACE rdf:resource="#12e3b2ea4b7f11e7b1e6005056236692"/></g2:sa.SUPERIOR></g2:Structure></g2:a.POSITION-IN-WORKSPACE>
  <g2:a.SIZE-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">30</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">24</g2:sa.HEIGHT></g2:Structure></g2:a.SIZE-IN-WORKSPACE>
  <g2:a.NAME-BOX>
    <g2:Structure>
      <g2:sa.COLOR>
        <g2:Structure>
          <g2:sa.BACKGROUND-COLOR g2:type="Symbol">TRANSPARENT</g2:sa.BACKGROUND-COLOR>
          <g2:sa.TEXT-COLOR g2:type="Symbol">FOREGROUND</g2:sa.TEXT-COLOR></g2:Structure></g2:sa.COLOR>
      <g2:sa.POSITION>
        <g2:Structure>
          <g2:sa.X-OFFSET g2:type="Integer">-242</g2:sa.X-OFFSET>
          <g2:sa.Y-OFFSET g2:type="Integer">10</g2:sa.Y-OFFSET></g2:Structure></g2:sa.POSITION></g2:Structure></g2:a.NAME-BOX></c.BENCHMARK-TEST>

<g2:c.KB-WORKSPACE ID="6cc1c0024fd111e788b5005056236692">
  <g2:a.EDGES-OF-WORKSPACE>
    <g2:Structure>
      <g2:sa.LEFT g2:type="Integer">-383</g2:sa.LEFT>
      <g2:sa.TOP g2:type="Integer">243</g2:sa.TOP>
      <g2:sa.RIGHT g2:type="Integer">209</g2:sa.RIGHT>
      <g2:sa.BOTTOM g2:type="Integer">-168</g2:sa.BOTTOM></g2:Structure></g2:a.EDGES-OF-WORKSPACE>
  <g2:a.PARENT-OF-SUBWORKSPACE><c.BENCHMARK-TEST rdf:resource="#6cc1bffa4fd111e788b5005056236692"/></g2:a.PARENT-OF-SUBWORKSPACE></g2:c.KB-WORKSPACE>

<g2:c.PROCEDURE ID="6cc1bfff4fd111e788b5005056236692">
  
  <g2:a.TEXT><![CDATA[
DEREG-SUBS-ITEM-DELETION-TEST(node: class benchmark-test) 
temp-handle: integer;
temp-handle-err: integer; 
callback-1-id: integer = 1;
callback-2-id: integer = 2;

MD: class item;

err : class error;
err-happ: truth-value = false;
BEGIN
    create a dial MD;
    transfer MD to this workspace  at (80, 120);
    change the name of MD to the symbol transient-dial; 

    {subscribing to invalid item}
    begin
        temp-handle = call g2-subscribe-to-item-deletion(the symbol test-symbol, transient-deletion-handler, callback-1-id);
    end on error(err) 
        err-happ = true;
        delete err;
    end;
    if err-happ /= true then begin
        call fail(node, "DEREG-SUBS-ITEM-DELETION-TEST: subscribe-to-item-deletion did not raise an error when subscribing to invalid item");
        return;
    end;
        
    {registering invalid handler}
    begin
        temp-handle = call g2-subscribe-to-item-deletion(transient-dial, transient-deletion-hdlr, callback-1-id);
    end on error(err)
        err-happ = true;
        delete err;
    end;
    if err-happ/= true then begin
        call fail(node, "DEREG-SUBS-ITEM-DELETION-TEST: registering invalid handler did not raise an error");
        return;
    end;
    
    {deregistering a nonexistent handler}
    begin
        temp-handle = 1234;
        call g2-deregister-subscription(temp-handle);
    end on error(err) 
        err-happ = true;
        delete err;
    end;
    if err-happ /= true then begin
        call fail(node, "DEREG-SUBS-ITEM-DELETION-TEST: deregistering invalid handler did not raise an error");
        return;
    end;
    
    {testing if callback is really called}
    temp-handle = call g2-subscribe-to-item-deletion(transient-dial, transient-deletion-handler, callback-1-id); 
    temp-handle-err = call g2-subscribe-to-item-deletion(transient-dial, transient-deletion-handler, callback-2-id); 
    call g2-deregister-subscription(temp-handle-err); 
 
    wait for 1; {just to give time to show the item on the screen}
    delete transient-dial without permanence checks;
         
    wait until flag-handler-called  = true checking every 1 second;
    if flag-handler-cls-called  = true then begin
        call fail(node, " DEREG-SUBS-ITEM-DELETION-TEST: the procedure g2-deregister-subscription did not deregistered propperly a procedure reference for an item");
        return;
    end;
    

    call g2-deregister-subscription(temp-handle); 

    call pass (node);
END
]]></g2:a.TEXT>
  <g2:a.ICON-VARIABLES>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">50</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">50</g2:sa.HEIGHT></g2:Structure></g2:a.ICON-VARIABLES>
  <g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING><g2:c.BORDERLESS-FREE-TEXT rdf:resource="#6cc1c0004fd111e788b5005056236692"/></g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING>
  <g2:a.POSITION-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.X g2:type="Integer">-217</g2:sa.X>
      <g2:sa.Y g2:type="Integer">103</g2:sa.Y>
      <g2:sa.SUPERIOR><g2:c.KB-WORKSPACE rdf:resource="#6cc1c0024fd111e788b5005056236692"/></g2:sa.SUPERIOR></g2:Structure></g2:a.POSITION-IN-WORKSPACE>
  <g2:a.SIZE-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">50</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">50</g2:sa.HEIGHT></g2:Structure></g2:a.SIZE-IN-WORKSPACE>
  <g2:a.NAME-BOX>
    <g2:Structure>
      <g2:sa.COLOR>
        <g2:Structure>
          <g2:sa.BACKGROUND-COLOR g2:type="Symbol">TRANSPARENT</g2:sa.BACKGROUND-COLOR>
          <g2:sa.TEXT-COLOR g2:type="Symbol">FOREGROUND</g2:sa.TEXT-COLOR></g2:Structure></g2:sa.COLOR>
      <g2:sa.POSITION>
        <g2:Structure>
          <g2:sa.X-OFFSET g2:type="Integer">-136</g2:sa.X-OFFSET>
          <g2:sa.Y-OFFSET g2:type="Integer">-29</g2:sa.Y-OFFSET></g2:Structure></g2:sa.POSITION></g2:Structure></g2:a.NAME-BOX></g2:c.PROCEDURE>

<g2:c.BORDERLESS-FREE-TEXT ID="6cc1c0004fd111e788b5005056236692">
  <g2:a.TEXT>WS-DEREG-SUBS-ITEM-DELETION</g2:a.TEXT>
  <g2:a.TEXT-FONT>
    <g2:Structure>
      <g2:sa.FONT-SIZE g2:type="Symbol">LARGE</g2:sa.FONT-SIZE></g2:Structure></g2:a.TEXT-FONT>
  <g2:a.TEXT-ALIGNMENT g2:type="Symbol">LEFT</g2:a.TEXT-ALIGNMENT>
  <g2:a.POSITION-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.X g2:type="Integer">-87</g2:sa.X>
      <g2:sa.Y g2:type="Integer">201</g2:sa.Y>
      <g2:sa.SUPERIOR><g2:c.KB-WORKSPACE rdf:resource="#6cc1c0024fd111e788b5005056236692"/></g2:sa.SUPERIOR></g2:Structure></g2:a.POSITION-IN-WORKSPACE>
  <g2:a.SIZE-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">316</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">25</g2:sa.HEIGHT></g2:Structure></g2:a.SIZE-IN-WORKSPACE></g2:c.BORDERLESS-FREE-TEXT>

<g2:c.LOGICAL-PARAMETER ID="49e711374fdb11e788b5005056236692">
  <g2:a.OPTIONS>
    <g2:Structure>
      <g2:sa.FORWARD-CHAIN g2:type="TruthValue">true</g2:sa.FORWARD-CHAIN>
      <g2:sa.FORWARD-CHAIN-EVEN-FOR-SAME-VALUE g2:type="TruthValue">false</g2:sa.FORWARD-CHAIN-EVEN-FOR-SAME-VALUE></g2:Structure></g2:a.OPTIONS>
  <g2:a.NAMES g2:type="Symbol">FLAG-HANDLER-CLS-CALLED</g2:a.NAMES>
  <g2:a.ICON-VARIABLES>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">50</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">50</g2:sa.HEIGHT></g2:Structure></g2:a.ICON-VARIABLES>
  <g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING><g2:c.LOGICAL-PARAMETER rdf:resource="#49e711384fdb11e788b5005056236692"/></g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING>
  <g2:a.POSITION-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.X g2:type="Integer">65</g2:sa.X>
      <g2:sa.Y g2:type="Integer">-77</g2:sa.Y>
      <g2:sa.SUPERIOR><g2:c.KB-WORKSPACE rdf:resource="#6cc1c0024fd111e788b5005056236692"/></g2:sa.SUPERIOR></g2:Structure></g2:a.POSITION-IN-WORKSPACE>
  <g2:a.SIZE-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">50</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">50</g2:sa.HEIGHT></g2:Structure></g2:a.SIZE-IN-WORKSPACE>
  <g2:a.NAME-BOX>
    <g2:Structure>
      <g2:sa.COLOR>
        <g2:Structure>
          <g2:sa.BACKGROUND-COLOR g2:type="Symbol">TRANSPARENT</g2:sa.BACKGROUND-COLOR>
          <g2:sa.TEXT-COLOR g2:type="Symbol">FOREGROUND</g2:sa.TEXT-COLOR></g2:Structure></g2:sa.COLOR>
      <g2:sa.POSITION>
        <g2:Structure>
          <g2:sa.X-OFFSET g2:type="Integer">-114</g2:sa.X-OFFSET>
          <g2:sa.Y-OFFSET g2:type="Integer">-29</g2:sa.Y-OFFSET></g2:Structure></g2:sa.POSITION></g2:Structure></g2:a.NAME-BOX></g2:c.LOGICAL-PARAMETER>

<g2:c.LOGICAL-PARAMETER ID="49e711384fdb11e788b5005056236692">
  <g2:a.OPTIONS>
    <g2:Structure>
      <g2:sa.FORWARD-CHAIN g2:type="TruthValue">true</g2:sa.FORWARD-CHAIN>
      <g2:sa.FORWARD-CHAIN-EVEN-FOR-SAME-VALUE g2:type="TruthValue">false</g2:sa.FORWARD-CHAIN-EVEN-FOR-SAME-VALUE></g2:Structure></g2:a.OPTIONS>
  <g2:a.NAMES g2:type="Symbol">FLAG-HANDLER-CALLED</g2:a.NAMES>
  <g2:a.ICON-VARIABLES>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">50</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">50</g2:sa.HEIGHT></g2:Structure></g2:a.ICON-VARIABLES>
  <g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING><g2:c.PROCEDURE rdf:resource="#49e711394fdb11e788b5005056236692"/></g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING>
  <g2:a.POSITION-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.X g2:type="Integer">63</g2:sa.X>
      <g2:sa.Y g2:type="Integer">8</g2:sa.Y>
      <g2:sa.SUPERIOR><g2:c.KB-WORKSPACE rdf:resource="#6cc1c0024fd111e788b5005056236692"/></g2:sa.SUPERIOR></g2:Structure></g2:a.POSITION-IN-WORKSPACE>
  <g2:a.SIZE-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">50</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">50</g2:sa.HEIGHT></g2:Structure></g2:a.SIZE-IN-WORKSPACE>
  <g2:a.NAME-BOX>
    <g2:Structure>
      <g2:sa.COLOR>
        <g2:Structure>
          <g2:sa.BACKGROUND-COLOR g2:type="Symbol">TRANSPARENT</g2:sa.BACKGROUND-COLOR>
          <g2:sa.TEXT-COLOR g2:type="Symbol">FOREGROUND</g2:sa.TEXT-COLOR></g2:Structure></g2:sa.COLOR>
      <g2:sa.POSITION>
        <g2:Structure>
          <g2:sa.X-OFFSET g2:type="Integer">-98</g2:sa.X-OFFSET>
          <g2:sa.Y-OFFSET g2:type="Integer">-29</g2:sa.Y-OFFSET></g2:Structure></g2:sa.POSITION></g2:Structure></g2:a.NAME-BOX></g2:c.LOGICAL-PARAMETER>

<g2:c.PROCEDURE ID="49e711394fdb11e788b5005056236692">
  
  <g2:a.TEXT><![CDATA[
transient-deletion-handler(event : symbol, item: class item, info: sequence, new-value: item-or-value, user-data : item-or-value, subscription-handle : integer)
callback-1-id: integer = 1; 
callback-2-id: integer = 2; 

evttype: symbol = the symbol delete;
begin
    if evttype = event then begin
         if user-data = callback-1-id then
         begin
            conclude that flag-handler-called  = true;
         end;
        if user-data = callback-2-id then begin
            conclude that flag-handler-cls-called  = true;
        end;
    end;
     
end 
]]></g2:a.TEXT>
  <g2:a.ICON-VARIABLES>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">50</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">50</g2:sa.HEIGHT></g2:Structure></g2:a.ICON-VARIABLES>
  <g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING><g2:c.PROCEDURE rdf:resource="#6cc1bfff4fd111e788b5005056236692"/></g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING>
  <g2:a.POSITION-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.X g2:type="Integer">-212</g2:sa.X>
      <g2:sa.Y g2:type="Integer">9</g2:sa.Y>
      <g2:sa.SUPERIOR><g2:c.KB-WORKSPACE rdf:resource="#6cc1c0024fd111e788b5005056236692"/></g2:sa.SUPERIOR></g2:Structure></g2:a.POSITION-IN-WORKSPACE>
  <g2:a.SIZE-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">50</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">50</g2:sa.HEIGHT></g2:Structure></g2:a.SIZE-IN-WORKSPACE>
  <g2:a.NAME-BOX>
    <g2:Structure>
      <g2:sa.COLOR>
        <g2:Structure>
          <g2:sa.BACKGROUND-COLOR g2:type="Symbol">TRANSPARENT</g2:sa.BACKGROUND-COLOR>
          <g2:sa.TEXT-COLOR g2:type="Symbol">FOREGROUND</g2:sa.TEXT-COLOR></g2:Structure></g2:sa.COLOR>
      <g2:sa.POSITION>
        <g2:Structure>
          <g2:sa.X-OFFSET g2:type="Integer">-127</g2:sa.X-OFFSET>
          <g2:sa.Y-OFFSET g2:type="Integer">-29</g2:sa.Y-OFFSET></g2:Structure></g2:sa.POSITION></g2:Structure></g2:a.NAME-BOX></g2:c.PROCEDURE>

<c.NEXT-BENCHMARK ID="6cc1bffb4fd111e788b5005056236692">
  <g2:a.CONNECTION-VERTICES g2:type="Sequence"></g2:a.CONNECTION-VERTICES>
  <g2:a.CONNECTION-STYLE g2:type="Symbol">ORTHOGONAL</g2:a.CONNECTION-STYLE>
  <g2:a.CONNECTION-OUTPUT>
    <g2:Structure>
      <g2:sa.ITEM><c.END-FLOW rdf:resource="#12e3b2c94b7f11e7b1e6005056236692"/></g2:sa.ITEM>
      <g2:sa.SIDE g2:type="Symbol">TOP</g2:sa.SIDE>
      <g2:sa.POSITION g2:type="Integer">21</g2:sa.POSITION></g2:Structure></g2:a.CONNECTION-OUTPUT>
  <g2:a.CONNECTION-INPUT>
    <g2:Structure>
      <g2:sa.ITEM><c.BENCHMARK-TEST rdf:resource="#6cc1bffa4fd111e788b5005056236692"/></g2:sa.ITEM>
      <g2:sa.SIDE g2:type="Symbol">BOTTOM</g2:sa.SIDE>
      <g2:sa.POSITION g2:type="Integer">15</g2:sa.POSITION>
      <g2:sa.PORT-NAME g2:type="Symbol">NEXT-TEST-PORT</g2:sa.PORT-NAME></g2:Structure></g2:a.CONNECTION-INPUT>
  <g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING><g2:c.LOOSE-END rdf:resource="#a5eae4aa4eee11e78d93005056236692"/></g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING>
  <g2:a.ITEM-COLOR-PATTERN>
    <g2:Structure>
      <g2:sa.OUTLINE g2:type="Symbol">RED</g2:sa.OUTLINE>
      <g2:sa.INSIDE g2:type="Symbol">TURQUOISE</g2:sa.INSIDE></g2:Structure></g2:a.ITEM-COLOR-PATTERN></c.NEXT-BENCHMARK>

<c.NEXT-BENCHMARK ID="6cc1bffc4fd111e788b5005056236692">
  <g2:a.CONNECTION-VERTICES>
    <g2:Sequence>
      <rdf:li g2:type="Integer">-5</rdf:li>
      <rdf:li g2:type="Integer">0</rdf:li></g2:Sequence></g2:a.CONNECTION-VERTICES>
  <g2:a.CONNECTION-STYLE g2:type="Symbol">ORTHOGONAL</g2:a.CONNECTION-STYLE>
  <g2:a.CONNECTION-OUTPUT>
    <g2:Structure>
      <g2:sa.ITEM><c.BENCHMARK-TEST rdf:resource="#6cc1bffa4fd111e788b5005056236692"/></g2:sa.ITEM>
      <g2:sa.SIDE g2:type="Symbol">TOP</g2:sa.SIDE>
      <g2:sa.POSITION g2:type="Integer">15</g2:sa.POSITION></g2:Structure></g2:a.CONNECTION-OUTPUT>
  <g2:a.CONNECTION-INPUT>
    <g2:Structure>
      <g2:sa.ITEM><c.BENCHMARK-TEST rdf:resource="#a5eae4ab4eee11e78d93005056236692"/></g2:sa.ITEM>
      <g2:sa.SIDE g2:type="Symbol">BOTTOM</g2:sa.SIDE>
      <g2:sa.POSITION g2:type="Integer">15</g2:sa.POSITION>
      <g2:sa.PORT-NAME g2:type="Symbol">NEXT-TEST-PORT</g2:sa.PORT-NAME></g2:Structure></g2:a.CONNECTION-INPUT>
  <g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING><c.BENCHMARK-TEST rdf:resource="#4ac8896d4de311e797fb005056236692"/></g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING>
  <g2:a.ITEM-COLOR-PATTERN>
    <g2:Structure>
      <g2:sa.OUTLINE g2:type="Symbol">RED</g2:sa.OUTLINE>
      <g2:sa.INSIDE g2:type="Symbol">TURQUOISE</g2:sa.INSIDE></g2:Structure></g2:a.ITEM-COLOR-PATTERN></c.NEXT-BENCHMARK>

<c.NEXT-BENCHMARK ID="6cc1bffd4fd111e788b5005056236692">
  <g2:a.CONNECTION-VERTICES>
    <g2:Sequence>
      <rdf:li g2:type="Integer">4</rdf:li></g2:Sequence></g2:a.CONNECTION-VERTICES>
  <g2:a.CONNECTION-STYLE g2:type="Symbol">ORTHOGONAL</g2:a.CONNECTION-STYLE>
  <g2:a.CONNECTION-OUTPUT>
    <g2:Structure>
      <g2:sa.ITEM><g2:c.LOOSE-END rdf:resource="#6cc1bff94fd111e788b5005056236692"/></g2:sa.ITEM>
      <g2:sa.SIDE g2:type="Symbol">BOTTOM</g2:sa.SIDE>
      <g2:sa.POSITION g2:type="Integer">0</g2:sa.POSITION>
      <g2:sa.PORT-NAME g2:type="Symbol">STUB-CONNECTION</g2:sa.PORT-NAME></g2:Structure></g2:a.CONNECTION-OUTPUT>
  <g2:a.CONNECTION-INPUT>
    <g2:Structure>
      <g2:sa.ITEM><c.END-FLOW rdf:resource="#12e3b2c94b7f11e7b1e6005056236692"/></g2:sa.ITEM>
      <g2:sa.SIDE g2:type="Symbol">TOP</g2:sa.SIDE>
      <g2:sa.POSITION g2:type="Integer">20</g2:sa.POSITION></g2:Structure></g2:a.CONNECTION-INPUT>
  <g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING><g2:c.LOOSE-END rdf:resource="#12e3b2ca4b7f11e7b1e6005056236692"/></g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING>
  <g2:a.ITEM-COLOR-PATTERN>
    <g2:Structure>
      <g2:sa.OUTLINE g2:type="Symbol">RED</g2:sa.OUTLINE>
      <g2:sa.INSIDE g2:type="Symbol">TURQUOISE</g2:sa.INSIDE></g2:Structure></g2:a.ITEM-COLOR-PATTERN></c.NEXT-BENCHMARK>

<g2:c.KB-WORKSPACE ID="71c25c834f0811e78d93005056236692">
  <g2:a.MODULE-ASSIGNMENT g2:type="Symbol">GET-SUBSCRIPTION-TEST</g2:a.MODULE-ASSIGNMENT>
  <g2:a.DEFAULT-WINDOW-POSITION-AND-SCALE>
    <g2:Structure>
      <g2:sa.X g2:type="Integer">1299</g2:sa.X>
      <g2:sa.Y g2:type="Integer">601</g2:sa.Y></g2:Structure></g2:a.DEFAULT-WINDOW-POSITION-AND-SCALE>
  <g2:a.EDGES-OF-WORKSPACE>
    <g2:Structure>
      <g2:sa.LEFT g2:type="Integer">-376</g2:sa.LEFT>
      <g2:sa.TOP g2:type="Integer">216</g2:sa.TOP>
      <g2:sa.RIGHT g2:type="Integer">194</g2:sa.RIGHT>
      <g2:sa.BOTTOM g2:type="Integer">-213</g2:sa.BOTTOM></g2:Structure></g2:a.EDGES-OF-WORKSPACE></g2:c.KB-WORKSPACE>

<g2:c.PROCEDURE ID="71c25c844f0811e78d93005056236692">
  <g2:a.TEXT><![CDATA[
subs-item-attr-handler(event : symbol, item: class item, denotation-sequence: sequence, new-value: item-or-value, user-data : item-or-value, subscription-handle : integer)
intermediate-val-2: text = "0.80"; 
intermediate-val-f: text = "0.2"; 
initial-val: text = "0.5";
callback-1-id: integer = 1; 
callback-2-id: integer = 2; 

evttype: symbol = the symbol modify;
begin
    post"den-seq: [denotation-sequence], usrdat: [user-data]";

    if evttype = event then begin
         if new-value = initial-val  and user-data = callback-1-id then begin
            conclude that the expression-to-display of my-dial-attr-test  = intermediate-val-2;
        end;
        if user-data = callback-2-id then begin
            conclude that the expression-to-display of my-dial-attr-test  = intermediate-val-f;
            call g2-deregister-subscription (subscription-handle);            
        end;
    end;
     
end 
]]></g2:a.TEXT>
  <g2:a.ICON-VARIABLES>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">50</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">50</g2:sa.HEIGHT></g2:Structure></g2:a.ICON-VARIABLES>
  <g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING><g2:c.DIAL rdf:resource="#71c25c854f0811e78d93005056236692"/></g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING>
  <g2:a.POSITION-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.X g2:type="Integer">-237</g2:sa.X>
      <g2:sa.Y g2:type="Integer">23</g2:sa.Y>
      <g2:sa.SUPERIOR><g2:c.KB-WORKSPACE rdf:resource="#71c25c834f0811e78d93005056236692"/></g2:sa.SUPERIOR></g2:Structure></g2:a.POSITION-IN-WORKSPACE>
  <g2:a.SIZE-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">50</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">50</g2:sa.HEIGHT></g2:Structure></g2:a.SIZE-IN-WORKSPACE></g2:c.PROCEDURE>

<g2:c.DIAL ID="71c25c854f0811e78d93005056236692">
  <g2:a.EXPRESSION-TO-DISPLAY>0.2</g2:a.EXPRESSION-TO-DISPLAY>
  <g2:a.DISPLAY-UPDATE-INTERVAL g2:type="Integer">1</g2:a.DISPLAY-UPDATE-INTERVAL>
  <g2:a.ICON-VARIABLES>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">120</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">120</g2:sa.HEIGHT></g2:Structure></g2:a.ICON-VARIABLES>
  <g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING><g2:c.PROCEDURE rdf:resource="#71c25c864f0811e78d93005056236692"/></g2:a.FOLLOWING-ITEM-IN-WORKSPACE-LAYERING>
  <g2:a.POSITION-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.X g2:type="Integer">-217</g2:sa.X>
      <g2:sa.Y g2:type="Integer">-122</g2:sa.Y>
      <g2:sa.SUPERIOR><g2:c.KB-WORKSPACE rdf:resource="#71c25c834f0811e78d93005056236692"/></g2:sa.SUPERIOR></g2:Structure></g2:a.POSITION-IN-WORKSPACE>
  <g2:a.SIZE-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">120</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">120</g2:sa.HEIGHT></g2:Structure></g2:a.SIZE-IN-WORKSPACE></g2:c.DIAL>

<g2:c.PROCEDURE ID="71c25c864f0811e78d93005056236692">
  <g2:a.TEXT><![CDATA[
SUBS-ITEM-ATTR-TEST(node: class benchmark-test) 
handles: sequence;
temp-handle: integer;
index: integer;
callback-1-id: integer = 1;
callback-2-id: integer = 2;

intermediate-val: text = "0.5";
intermediate-val-2: text = "0.80"; 
intermediate-val-f: text = "0.2";
 
customevt-1: symbol = the symbol all;
customevt-2: symbol = the symbol EVT2; 

err : class error;
err-happ: truth-value = false;
BEGIN
    handles = call g2-get-subscription-handles-for-item (my-dial-attr-test );

    {cleaning up handles if one exists}
    for index = 0 to (the  number of elements in handles) - 1 do 
        call g2-deregister-subscription (handles[index]);
    end;
    handles = call g2-get-subscription-handles-for-item (my-dial-test ); 

    {there must be no handles}
    if  the number of elements in handles > 0 then begin
        call fail(node, "SUBS-ITEM-ATTR: item my-dial-attr-test should have no handles");
        return;
    end;

    {testing subscription for nonexistent item}
    begin
        call g2-subscribe-to-item-attributes (my-item, the symbol all, subs-item-attr-handler, callback-1-id);
    end on error(err)
        err-happ = true;
        delete err;
    end;
    if err-happ /= true then begin
        call fail(node, "SUBS-ITEM-ATTR: subscribing to nonexistent item did not fail propperly");
        return;
    end;

    
    {testing subscription for nonexistent callback}
    err-happ = false;
    begin
        call g2-subscribe-to-item-attributes (my-dial-attr-test, the symbol all, wrong-custom-event-handler, callback-1-id);
    end on error(err)
        err-happ = true;
        delete err;
    end;
    if err-happ /= true then begin
        call fail(node, "SUBS-ITEM-ATTR: subscribing with wrong callback did not fail properly");
        return;
    end; 
    
    {creating one subscription}
    temp-handle = call g2-subscribe-to-item-attributes (my-dial-attr-test , customevt-1, subs-item-attr-handler, callback-1-id );
    handles = call g2-get-subscription-handles-for-item (my-dial-attr-test );  
    
    if the number of elements in handles /= 1 then begin
        call fail(node, "There should be one subscription handle for the item: [the number of elements in handles]");
        return;
    end;

    conclude that the expression-to-display of my-dial-attr-test = intermediate-val;
    wait until the expression-to-display of my-dial-attr-test  = intermediate-val-2 checking every 1 second; 

    {creating the second subscription}
    temp-handle = call g2-subscribe-to-item-attributes (my-dial-attr-test , customevt-1, subs-item-attr-handler, callback-2-id );
    handles = call g2-get-subscription-handles-for-item (my-dial-attr-test );  
    
    if the number of elements in handles /= 2 then begin
        call fail(node, "There should be two subscription handle for the item: [the number of elements in handles]");
        return;
    end;
    
    {checking if the second modification will trigger an event that will change the value}
    conclude that the display-wait-interval of my-dial-attr-test = 2;
    wait until the expression-to-display  of my-dial-attr-test  = intermediate-val-f  checking every 1 second;

    {it must exist only 1 handle now}
    handles = call g2-get-subscription-handles-for-item (my-dial-attr-test); 
    if the number of elements in handles /= 1 then begin
        call fail(node, "There should be one subscription handle for the item: [the number of elements in handles]");
        return;
    end;        

    handles = call g2-get-subscription-handles-for-item (my-dial-attr-test); 
    {cleaning up handles if one exists}
    for index = 0 to (the  number of elements in handles) - 1 do 
        call g2-deregister-subscription (handles[index]);
    end; 

    call pass (node);
END 
]]></g2:a.TEXT>
  <g2:a.ICON-VARIABLES>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">50</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">50</g2:sa.HEIGHT></g2:Structure></g2:a.ICON-VARIABLES>
  <g2:a.POSITION-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.X g2:type="Integer">-240</g2:sa.X>
      <g2:sa.Y g2:type="Integer">144</g2:sa.Y>
      <g2:sa.SUPERIOR><g2:c.KB-WORKSPACE rdf:resource="#71c25c834f0811e78d93005056236692"/></g2:sa.SUPERIOR></g2:Structure></g2:a.POSITION-IN-WORKSPACE>
  <g2:a.SIZE-IN-WORKSPACE>
    <g2:Structure>
      <g2:sa.WIDTH g2:type="Integer">50</g2:sa.WIDTH>
      <g2:sa.HEIGHT g2:type="Integer">50</g2:sa.HEIGHT></g2:Structure></g2:a.SIZE-IN-WORKSPACE></g2:c.PROCEDURE>
</rdf:RDF>
