1.1      3/4/96         slk       Removed the procedure get-unique-id and replaced it with dev-get-unique-id, a method on an integer-parameter.  Also relocated the parameter GLOBAL-UNIQUE-ID to the dev-utilities module.
11/10/97    DVG    Updated the procedure _opacui-initialize-decision-dialog to wrap the text of the radio buttons before displaying the dialog.
11/5/97    DVG    Updated the procedure _opacui-initialize-decision-dialog to fix the problem with the call to uil-get-label-text.  This call will return the wrong value for the new 5.0 buttons of GUIDE/UIL.  
11/4/97    DVG    Updated the procedure opac-get-table-column to check for "$stack" or "stack" in the local parameter RES-DEST.
07/16/97   William  HQ-1416078.  Replaced SNMP Not Avaiable with Nothing Found!!!.  This will show up when users try to access system defined attributes.
07/16/97   William  Modified opac-expression-decision-proc to utilize the opac-remove-return-char procedure on the opac-expression text.  This will allow the user to enter carriage returns in their text and not affect the parsing of that text.
07/16/97   William  Added procedure called opac-remove-return-char, which accepts text as a parameter.  This can be used to extrace the carriage return character from user entered text.
06/12/97   William  changed opac-match-string to remove the item from the stack if $stack was used as the source for the pattern match.

                Also removed the condition for testing if the block is an opac-expression-decision in the code.  This was due to the fact that we want all decision blocks that reference $stack to remove the item from the stack.
06/05/97   William  Fix bug HQ-1374744.  the traceback in the opac-token-error-handler could not handle an opac-syntax-element that did not have an input (opac-block-pause-capability).  I now do a for loop that iterates over all inputs of the item and if it is not an opac-pause-block-capability, then I use that one to continue the search.  this still needs some work as to subtasks and macros.
05/15/97   William  Subclassed opac-numerical-comparison-decision block to create a new class called opac-comparison-decision.  This will take the place of the existing opac-numerical-comparison-decision blocks as it can handle string comparison also.
05/08/97   William  Removed calls to opac-replace-local-parms-in-text from opac-match-string, opac-pattern-decision-by-symbol-proc, and opac-historical-message-query-proc.  We are no longer allowing variable substitution in the pattern matching blocks.
05/08/97   William  Added procedures and modified procedures to handle string comparison in the opac-numerical-decsion block.
4/17/97   William  Fixed memory leak in opac-set-local-vars-from-args.  This procedure was only deleting text-parameters if they are transient.  It now deletes float and integer parameters as well.  This procedure deleted the transient parameters that were passed in by the opac-start-task procedure after they have been assigned to the start block arguements.
4/17/97   William  Added OPAC-GOLD-BOOK for on-line documentation.
4/8/97   William  Hid the opac-g2-action-proc attribute from the user for opac-set-local-item-from-source, opac-set-local-integer-from-source, opac-set-local-text-from-source, and opac-set-local-float-from-source.
4/9/97   William  Change the priority of all opac procedures utilizing the opac-delete-file-utility from 9 to 5.
4/8/97   William  Went through all opac procedures that contain the inform statement and replaced it with a call to opac-token-error-handler.  Some of the procedures were not changed due to the fact that they did not have access to the TOKEN.
4/1/97   William  Modified the opac-create-shell procedure to allow for OS dependency.  Also added a line to the script file to automatically delete the script file.
4/1/97   William  Made the opac-hide-workspace block consistent with the opac-show-workspace block in reguards to the 'default' and 'stack' options.
3/21/97   William  Modified opac-historical-message-query-proc.  Removed the code that displays the results of the query to the browser.
4/1/97   William  Fixed the OPAC kill block to not perform a 'kill -9' on NT boxes.  Also got rid of the inform message that was being sent to the message-board.
3/14/97   William  Merged in modified SNMP code that David G. updated.
2/25/96   William  Fixed bug HQ-1202300.  Added else statement to see if a workspace of the first item on the STACK exists.  If so, then display it.
3/1/97   William  Made return-best-ip-identifier a method called opac-return-best-ip-identifier, which returns the ext-name or name as a string.  This replaced the return-best-ip-identifier in DEVU.
2/25/96   William  Fixed bug HQ-1186099.  Marked borderless-free-text on opac-procedure-statement-ws as "mark not to strip text".
2/25/96   William  Fixed bug HQ-1195601.  Changed TRUE to FALSE in call to smh-create-message which is called in opac-historical-message-query-proc.
2/25/96   William  Fixed bug HQ-1195599.  Replace "[the name of TASK]" with "[devu-ext-name-or-name-as-string (TASK)]" within opac-show-token-info-proc.
2/25/96   William  Fixed bug HQ-1191181.  Went through all classes and added the following to the Instance Configuration:  restrict proprietary items as follows: attributs visible for <class> exclude absolutely: <list of attributes for class>.
2/25/96   William  Fixed bug HQ-1185510.  Moved "Recompile All PROC blocks" button to the OPAC Actions Top Level WS.
2/25/96   William  Fixed bug HQ-1062748.  Modified the opac-read-file-proc to pass a value of 30 instead of 999 as the timeout value for the opac-read-file-into-text-list procedure.
2/25/96   William  Fixed bug HQ-1191231.  In opac-default-control-proc-for-decisions put a check to see if TOK exists after the call to the GUI has been made.  This was put here to catch the condition if the user deletes the token before a manual decision has been made.
2/7/96   William  Deleted opac-self-start-and-restart, opac-home-for-transients, opac-message-classes, and opac-help from the OPAC-ACTIONS-TOP-LEVEL workspace.
1/29/96   William  Modified opac-send-smh-message-proc to check to make sure the HAND is an smh-message-server before sending the message on.
1/31/96   William  Removed reference to the devu log file utility and replaced it with the glf routines.
2/6/96   William  Performed name changes
1/28/96   William  Deleted the opxb-gr-toggle-client-server-buttons in referenced to opac-logger.  Created a logical-parameter named opac-logger to be the indicator when the opac logging feature is activated or not.  I also changed the initialization objects to set the value to false or true instead of off or on.
1/28/96   William  Modified opac-snmp-set1-proc, opac-snmp-get1-proc, and opac-get-table-column to accept the snmp-type of the snmp block for the procedure named by the symbol opac-snmp-request-handler-symbol.
1/28/96   William  Added the attribute SNMP-TYPE to the opac-snmp-access-element object.  This was requested by David Green.  This attribute should only take on symbolic values of snmp or simulated-snmp.
1/27/96   William  Modified opac-manual-decision-proc to use the GUI _opac-launch-decision-dialog procedure.  This procedure now returns an integer representing the choice made.  With this change the opac-default-control-proc-for-decisions procedure also had to be changed.  It no longer checks to see if the block is a manual-decision block since it now returns an integer similar to the other decsion blocks.  I also removed the timeout feature in the control-proc.  This is handled by the GUI.  With this consolidation there is no need for the opac-manual-decision-callback and the relations a-dialog-giving-input-to and waiting-to-timeout.  These can be deleted after testing.
1/27/96   William  Modified opac-block-pause-proc to utilize the GUI _opacui-launch-decision-dialog.  The timeout is handled by the GUI and the default choice is to continue along the connection path.  With this considation there is no need for the opac-pause-callback procedure.  This could be deleted after testing.
1/23/96   William  Fixed bug HQ-1020113.  The error reported in this bug was due to the fact that the local-item-parameter was already pointing to another item.  I fixed this by checking to see if the local-parameter is already pointing to an item, and if so, then concluding that the local-parameter is NOT pointing-to the item.
1/23/96   William  Modified opac-replace-local-parms-in-text to return a more meaningful error message if it could not evaluate the given source.
1/17/96   William  Modified the opac-token-error-handler procedure to use Ramesh's devu-error-handler.  This will display the OPAC error messages on the Message Browser.  The text passed to the devu-error-handler depends on the setting of the debug-level in the opac-error-configuration object.  There are 3 levels with level 1 giving the most information about the error.  This text is written to the log file if the opa-system-status-error-logger button is turned on.  Once the message is sent it looks at the debug-option set in the opac-error-configuration object.  Currently only three options are implemented, -abort,-clear, and -cont.  The -abort will call the procedure opac-token-delete to delete the token and all associated items.  The -clear will set the highest-message-priority of the token to 99999 and set the in-error of the token to false.  The -cont is the default, which will continue processing down the connection path of the next OPAC block.
1/20/96   William  Created opac-interpret-float-expression and opac-interpret-for-float to support floating point numbers in decision blocks.  These procedures are invoked by opac-expression-decision-proc.  opac-expression-decision-proc was modified to look for a "." in the exp-text to distinguish which interpret procedure to call.
1/9/96   William  Created a procedure called opac-remove-extra-spaces, to remove unneeded spaces in text fields.  This procedure will cut down on the amount of errors while parsing text fields passed to vaious opac procedures.
NOTE:  This procedure will most likely find a new home in DEV-UTIL.
1/8/96   William  Disabled the methods on the OPAC Error workspace.  These may no longer be needed since the source and target of the error message are now opfo-safe-object.
12/31/96   William  Added an attribute to the opac-error-config-object called 'debug-level'.  There are 3 levels of debugging: 1 - procedure, stack, and token information; 2 - procedure and stack information; 3 - procedure information.  The 'debug-level' will be used in the opac-token-error-handler to determine the amount information to provide to the user.
1/7/96   William  Modified the opac-replace-local-params-in-text to not error out if there is only two words in the phrase with the phrase starting with the word 'the'.
12/30/96   William  Added an attribute to opac-token for in-error.  This will be set to TRUE if the token associated with an action procedure is in error.  
        Also, modified opac-show-token-info-proc and opac-show-stack-top to return an additional text arguement which contains the text generated within the procedures.  This will be used by the error-handler for gathering information.
12/31/96   William  Modified the opac-token-error-handler procedure to obtain information from the procedures opac-show-token-info-proc and opac-show-stack-top.
12/23/96   William  opac-replace-local-parms-in-text is now looking at the first 4 characters to make a match for the word "the ".  This resolves the problem of the procedure breaking up words that start with "the".
12/20/96   Ramesh   Moved the OPAC message classes user-large-selection-message-1 to -4 from opfo into opac. These can be removed when the OPAC GUI is developed?
12/20/96   William  Added code to the opac-get-item-via-text to be able to handle returning attribute items and to be able to handle returning a referenced subworkspace.
12/20/96    Mei    Fixed bug HQ-984068. Modified opac-hide-workspace-proc so that it will take target, caller or symbolic names as spec to hide the workspace. The original problem was that the procedure returns when the ws-display-list < 1 so when the spec is target, the "hide" action never gets executed.
12/18/96   William   Defined a new object, opac-error-config-object, and created an instance called opac-error-configuration.  This instance will be referenced by the opac-token-error-handler procedure to obtain configuration parameters on deciding what to do with the error messages generated.  A new message server, tc-error-messages, was also created to hold OPAC procedure error messages.  Three methods were also created, netu-accept-message, netu-delete-message, and netu-acknowledge-message, for the class of opac-syntax-element.
12/10/96   William   Fixed bug HQ-1062288.  There was a typo in the second loop of opac-create-local-vars.  It was settting a symbol to PARM-COPY instead of PARM.  PARM-COPY was only being set in the first loop, thus retaining the last parameter attached to the Start Block.
12/10/96   William   Fixed bug HQ-995590.  Modified the opac-proc-line-compile procedure to check for comments and newlines.  If encountered, the parsing for the ';' will continue and not produce a procedure compile error.
12/10/96   William   Moved opac-user-menu-choices, opac-block-help-code, opac-palettes, and opac-templates to the new module OPAC-GUI.
12/09/96   William   For decision blocks that used opac-consume-decision-from-stack procedure, if the value on the stack was less than 1 or if the stack was empty, the token would disappear.  Put a check to see if the value of DECISION is less than 1.  If so, then use the default-decision of the BLOCK.
12/05/96   William   Fixed bug HQ-1018591.  The result from the bug fix HQ-1021311 (above), the procedure opac-replace-local-params-in-text to return NVAL which was set to "Nothing Found".  This still was not right.  It needed to continue processing the rest of the text passed in.  It will now continue to parse the rest of the text message resolving the $'s.
12/05/96   William   Fixed bug HQ-1021311.  Modified the procedure opac-replace-local-params-in-text to return NVAL instead of TOK if the third word was not "of".  It was trying to return a non-text parameter.
12/05/96   William   Added "declare properties as follows: not manual connections" to the instance-configuration for opac-decision.  This will force the user to make connections to the defined stubs on decision blocks.
12/05/96   William   Created a procedure called opac-create-new-opac-procedure which will create a start and end block and place it on a new workspace.  A button was added to the general-actions-palette to start this procedure (This may need to be changed to an icon to keep consistent with the other objects on the palette).
12/05/96   William   Modified the OPAC Launch Process Detail opac procedure to use the opac-is-os-win32 procedure in a 2-way-decison block so the example will still work under NT.
12/05/96   William   Created a procedure called opac-is-os-win32 for use in an opac-2-way-decision block.  It will return a 1 if the OS is win32, a 2 if the OS is UNIX, and the default-decision of BLOCK if anything else.
12/05/96   William   Fixed bug HQ-1034487.  In the opac-consume-decision-from-stack procedure, if the value of the integer on the stack was greater than the number of output paths connnected to the block, then DECISION was being set to the number of output paths connected to the block.  I changed this to use the default-decision of BLOCK.
12/05/96   William   Fixed bug HQ-1038445.  _BLOCK was being set for the $wind variable for the opac-procedure-statement block.  Changed this to _WIND for the $wind variable.  This code change was made in the opac-line-evaluate-locals procedure.
12/03/96   Ramesh    opac-historical-message-query modifications! Changed the procedure opac-historical-message-query-proc so that it uses the newly defined smh-get-message-history procedure.
12/03/96   Ramesh    Moved the procedure opac-historical-message-query-proc-old from opac in to opex_unused.
12/03/96   Ramesh    opac-historical-message-query modifications! Changed the procedure opac-historical-message-query-proc so that it uses the newly defined smh-get-message-history procedure.
12/03/96   Ramesh    opac-historical-message-query modifications! Removed the unused attributes database, results-destination (stack is the only option!) , query-class (proc anyway looks for only shm-history!), pattern from OPAC-QUERY object-definition. Also removed the unused attributes results-as-count-only (no is not an option!), match-time-end (current-time was always used anyway!).
11/27/96   Ramesh    Moved the opac file-io & logging configuration and opac-file-io-library back in to opac from dev_util! Since BWAs devu-file-io-file-log is moved to opex_unused these need not be in dev_util now! file-io stuff is now only used in opac. 
11/25/96   Morris    Defined a procedure to set the opac-default-writable-path and the default-writable-path of fio-interface-1 to default values depending on the return value of the system procedure g2-type-of-file-system.
11/20/96   Ramesh    Split the opac file-io & logging configuration and opac-logging-configuration. Since file-io stuff is now in dev_util (BWAs devu-file-io-file-log requires devu-file-io-library which requires fio-interface-1), moved devu-file-io-configuration from opac into dev_util. 
11/20/96   William    In the opac-get-integer-from-stack procedure I added a test to check if the block of the token is an opac-expression-decision.  If it is, the item on the stack is NOT deleted.  Other decision blocks are not removing items from the stack.
11/18/96   William    Declared method declarations for opac-default-control-proc, opac-subtask-block-control-proc, opac-subtask-start-control-proc, opac-subtask-completion-control-proc, and opac-macro-control-proc.  Created methods for the above declarations.  The old procedure form of the above methods are on a subworkspace called old-opac-control-procedures.
11/15/96   William    Added opac-local-float-parameter and supporting procedures:  opac-set-local-float-var, opac-get-local-float-var, opac-set-local-float-from-source, and opac-get-float-from-stack.  Also added support for local-float in opac-set-local-vars-from-args procedure.
11/15/96   Ramesh  Changed opac-default-writable-path such that the trailing "/" or "\" in the path has to be specified by the user. Changed the procedures OPAC-SPAWN-WITH-RETURN-PROC, OPAC-FIND-PID, OPAC-KILL-INTERFACE, opac-spawn-with-return-utility, and OPAC-CREATE-SHELL-SCRIPT so that this modification is taken care of.  
11/15/96   Ramesh   Moved the opac-logging-level from opac (was in opac fio & logging configuration ws) in to tc-core and renamed it as tc-logging-level (in to tc_core (telecom configurations). Defined a new opxb-gr-client-server-toggle button named opac-logger which controls whether opac procedure entries are logged or not. Also defined an opac-log-proc and oapc-log symbolic-parameters (and initializations for these) used in opac-logging. 
11/6/96   Ramesh   Moved the unused opac-used-previously-but-not-used-anymore which contained some old opac-logging-support from opac to opex_unused module. 
11/06/96    Ramesh   Renamed the attribute "handler" in opac-send-smh-message block to "server". Also changed in all its instances and in the procedure opac-send-smh-message-proc. 
10/31/96    Ramesh   Moved the opac-file-io-library from opac in to devu-file-io-library in to dev_util. (since devu-logging facility of BA uses some file-io-library procedures. 
10/16/96    Ramesh  The old opac-logging-support is not used anymore and is replaced with Brent's new logging utility (in devu) where on can have different log files for opac, service, opa-erros, etc. Also in the OPAC file i/o config, the application specific init ws (which is replaced by the opa-user-specific-map-initialization-proc a user configurable procedure) and the delete logs after x days (which is now configurable individually for each instance of brent's devu-transaction log objects) are removed!
8/27/96    Ramesh   Changed the user-menu-choice start-task for opac-subtask-start so that devu-safe-object is passed as target. (earlier smh-browse-server was passed as the target). 
8/27/96    Ramesh   In opac-historical-qurey-proc modified the arguments to the simple message displayer so that if there is one target for the BLOCK that is used as the target of the message to smh-browse-server, else devu-safe-object is passed as target. (earlier smh-browse-server was passed as the target). 
8/9/96    DVG    
1.  Reworked the OPAC SNMP action blocks, the procedure opac-snmp-set1-proc, opac-snmp-get1-proc, opac-snmp-get1-check-list, and opac-get-table-column deal only with OPAC items.  OPAC makes one call to the procedure opa-comm-hw::snmp-sf-request-handler in snmp_sf.kb.  This method handles determining if this is a simulated or real SNMP request and calls the appropriate procedures.
2.  Added initilization objects in g2snmp.kb for the symbolic-parameters used by the OPAC SNMP access procedures, opac-snmp-request-handler-symbol and opac-rlpit-snmp-proc-call-symbol.
3.  Created a new procedure in g2snmp.kb, snmp-return-mibrec, this procedure is called from opac-replace-local-parms-in-text.  The new procedure perfoms the check for a snmp-trap-receiver and returns the appropriate values.  This does away with OPAC dependencies on g2snmp in the procedure opac-replace-local-parms-in-text. 
8/8/96    DVG    Updated the OPAC palettes such that GFR will clone the object instead of creating a new instance from the object def.  This was done by creating a subws of each of the objects on the palettes and cloning the object and placing it on the subws.  GFR checks to see if the subws with the object exists and clones it if it does else it creates an instance from the object def.
7/31/96    DVG    Had previously broken up some of the OPAC palettes into more palettes and had problems with the gfr window ie items wouldn't clone, fixed these problems.
7/29/96    DVG    Moved opac-out-of-service-handling button to smh.kb and renamed to smh-out-of-service-handling.  Out of service routines seem more suited to the function of filtering messages within smh.
7/24/96    DVG    Moved the pattern matching routines to dev_util.kb; PATTERN-MATCHER-CHECK and PATTERN-MATCHER-WITH-INDICES.  Added the prefix devu- to these procedures.
    7/22/96    DVG    Added "in order" statement to the rule located on the subws of opac-logging-support.
    7/22/96    DVG    Updated module per changes made in g2snmp and mib modules i.e. procedure, functions and global variables name changes.
7/19/96   Ramesh     Moved opa-generic-escalation-facility from opac in to smh. This GEP facility is totally dependent on smh (and smh depends on it too; in the proc smh-create-message) and has no dependancy on opac.
7/18/96   Kara     Inserted gif files into OPAC reference manual, section 5.
5/21/96  Ramesh   Transferred opac-send-cdg-event to the subworkspace of opac-terminal-elements and opac-send-cdg-event-proc to the subworkspace of OPA-terminal-actions procedures from cdg. Added an instance of opac-send-cdg-event to opac-misc-actions-palette .
5/10/96  tdh   Added palette behavior for all opac palette objects.
1.2   5/3/96  tdh   Changed opac-send-smh-message-proc to use ONLY opac-get-item-via-text for attributes needing an item and ONLY opac-replace-local-parms in text for attr's needing text or numerical data.

Deleted several proc's that had been marked for deletion fo >1 release (ex. opac-subtask-block-control-proc.old, -smh-msg-proc.old).
Removed go-to-superior buttons from the opac palettes.
1.1 04/18/96    rs  Changed OPAC-SPAWN-PROCESS-PROC and OPAC-SPAWN-WITH-RETURN-PROC to avoid a race condition resulting in the script file being deleted before it is executed.  Also made the revision history workspace proprietory.
v11   01/22/96   tdh   Fixed opac-start-task control proc to properly initialize local item variables.
v10r1   01/19/96   tdh   Moved portions of the opac-procedure-stmt block support to a non-proprietary ws.
1.0   01/05/96   gms    fixed block help for new naming convention on manual
1.0   12/12/95     Brent Anderson      Orginal Release of GEP
        11/22/95       Sknotts       Changed "Transfer TOK to WS at(..." to "Move TOK to(..." in the following procedures:  OPAC-DEFAULT-CONTROL-PROC, OPAC-SUBTASK-BLOCK-CONTROL-PROC, OPAC-SUBTASK-COMPLETION-CONTROL-PROC, OPAC-DEFAULT-CONTROL-PROC-FOR-DECISIONS
7/30/98    WSM    Added four new objects and four procedures.  Object included: opac-get-related-items-block, opac-run-domain-object-method, opac-historical-numerical-query, and opac-current-message-query.  The supporting procedures for these new objects (opac blocks) are: opac-get-related-items-block-proc, opac-run-domain-object-method-proc, opac-historical-numerical-query-proc, and opac-current-message-query-proc.
